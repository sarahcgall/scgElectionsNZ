[{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"majority","dir":"Articles","previous_headings":"","what":"Majority","title":"Majority","text":"majority dataset contains winning candidate margin victory electorate. majority calculated subtracting number votes winning candidate form number votes second candidate. margin victory divides number total votes cast create percentage figure.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"upload-data","dir":"Articles","previous_headings":"Majority","what":"Upload data","title":"Majority","text":"View shape data frame.","code":"# Load dataset df <- scgUtils::get_data(\"majority\") head(df) #>   Election           Electorate          Party                  Candidate #> 1     2023     Auckland Central    Green Party SWARBRICK, Chloe Charlotte #> 2     2023      Banks Peninsula National Party           WEENINK, Vanessa #> 3     2023        Bay of Plenty National Party            RUTHERFORD, Tom #> 4     2023               Botany National Party         LUXON, Christopher #> 5     2023 Christchurch Central   Labour Party               WEBB, Duncan #> 6     2023    Christchurch East   Labour Party      DAVIDSON, Reuben John #>    Votes Percentage Party_List #> 1   3896      11.31        Yes #> 2    396       0.81        Yes #> 3  15405      34.57        Yes #> 4  16323      44.69        Yes #> 5   1841       4.75        Yes #> 6   2397       6.25        Yes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"update-electorate-names","dir":"Articles","previous_headings":"Majority","what":"Update electorate names","title":"Majority","text":"Update names electorates can traced back name changes.","code":"# Convert pre-2020 electorate names to match name changes that occurred in 2020 and view df <- update_names(df,                    nameCol=\"Electorate\",                    output = \"electorate\") head(df) #>   Election           Electorate          Party                  Candidate #> 1     2023     Auckland Central    Green Party SWARBRICK, Chloe Charlotte #> 2     2023      Banks Peninsula National Party           WEENINK, Vanessa #> 3     2023        Bay of Plenty National Party            RUTHERFORD, Tom #> 4     2023               Botany National Party         LUXON, Christopher #> 5     2023 Christchurch Central   Labour Party               WEBB, Duncan #> 6     2023    Christchurch East   Labour Party      DAVIDSON, Reuben John #>   Votes Percentage Party_List #> 1  3896      11.31        Yes #> 2   396       0.81        Yes #> 3 15405      34.57        Yes #> 4 16323      44.69        Yes #> 5  1841       4.75        Yes #> 6  2397       6.25        Yes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"add-type-of-electorate","dir":"Articles","previous_headings":"Majority","what":"Add type of electorate","title":"Majority","text":"Add column electorate type filter Maori electorates.","code":"# Add Electorate Type and filter for General electorates only and view df <- add_data(df, output=\"type\") head(df) #>         Electorate Election       Party                  Candidate Votes #> 1 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #> 2 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #> 3 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #> 4 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #> 5 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #> 6 Auckland Central     2023 Green Party SWARBRICK, Chloe Charlotte  3896 #>   Percentage Party_List Electorate_Type #> 1      11.31        Yes         General #> 2      11.31        Yes         General #> 3      11.31        Yes         General #> 4      11.31        Yes         General #> 5      11.31        Yes         General #> 6      11.31        Yes         General"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"plot","dir":"Articles","previous_headings":"Majority","what":"Plot","title":"Majority","text":"Create parallel coordinates plot track visualise electorates changed hands margins increase decrease across MMP elections.","code":"df %>%   filter(Electorate_Type == \"General\") %>%   # Remove electorates that had fewer than 7 elections   group_by(Electorate) %>%   mutate(No. = length(Electorate)) %>%   ungroup() %>%   filter(No. >= 7) %>%   mutate(Percentage = ifelse(Party %in% c(\"Labour Party\", \"Green Party\",                                           \"Alliance\", \"Jim Anderton's Progressive\"),                              -Percentage, Percentage)) %>%   ggplot(aes(y=Percentage, x=reorder(Election, -Election), group=Electorate, colour=Party)) +   geom_hline(yintercept = 0, colour = scgUtils::colour_pal(\"Regent Grey\"),              linewidth = 0.5, linetype = \"dashed\") +   geom_smooth(method = \"loess\",formula = 'y ~ x',               colour = scgUtils::colour_pal(\"French Grey\"),               span = 0.3, se = FALSE, alpha = 0.25, linewidth = 0.25) +   geom_point(shape='\\u6c', size=4) +   scale_y_continuous(limits = c(-70,70), expand = c(0,0), position = \"right\",                      breaks = c(-60,-40,-20,0,20,40,60),                      labels = c(\"+60\",\"+40\",\"+20\",\"0\",\"+20\",\"+40\",\"+60\")   ) +   scale_x_discrete(expand=c(0,0)) +   scale_colour_manual(values = scgUtils::colour_pal(\"polNZ\")) +   labs(title = \"Margin of Victory (%) by General Electorate\\nOver Time (1996 - 2023)\",        caption = \"\\n\\n*Includes electorates which existed at 7 or more elections only\",        y = \"\",        x = \"\") +   coord_flip(clip = \"off\") +   scgUtils::theme_scg() %+replace%   theme(legend.position = \"none\",         panel.grid.major.y = element_blank(),         panel.grid.minor = element_blank(),         axis.line = element_blank(),         axis.ticks = element_blank(),         axis.text.x.top = element_text(vjust = 4)   )"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"nz-electoral-system","dir":"Articles","previous_headings":"","what":"NZ Electoral System","title":"NZ Elections Explained","text":"New Zealand employs non-compulsory voting system elect 120 members unicameral House Representatives using Mixed-Member Proportional (MMP) voting system. system comprises: 7 seats Māori electorates individuals Māori ethnicity ancestry choose place separate electoral roll. Māori General electorates overlap. 48 List MPs elected nationwide, closed (.e., order candidates determined individual parties), party lists. distinction Māori General electoral roll voters seats. Voters thus cast two votes: Candidate Vote preferred local candidate Party Vote favoured party. Explore summary dataset analysis party candidate votes national-level. number type seats can also viewed using dataset.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"party-vote","dir":"Articles","previous_headings":"","what":"Party Vote","title":"NZ Elections Explained","text":"allocation 120 parliamentary seats based proportion Party Votes party receives. subtracting number electorate seats won, remaining seats allocated parties top-. order seats allocated determined Sainte-Laguë formula: \\[ quotient = \\frac{V}{2s + 1} \\] : \\(V\\) total number votes party, \\(s\\) number seats already allocated party. comprehensive understanding allocation process, refer Seat Allocation Explained article. Electorate-level Party Vote data can found party_votes dataset.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"candidate-vote","dir":"Articles","previous_headings":"","what":"Candidate Vote","title":"NZ Elections Explained","text":"FPTP voting results electorates available candidate_votes dataset Note dataset currently includes successful parties, others grouped ‘’. Use add_data function identify type electorate (.e., Māori General). majority dataset lists electorate winner, majority, margin victory, calculated follows: Majority \\[ M = V_{1} - V_{2} \\] : \\(M\\) represents Majority, \\(V_{1}\\) number votes received first candidate, \\(V_{2}\\) number votes received second candidate. Margin Victory \\[ MoV = \\frac{M}{T_{votes}} \\] : \\(MoV\\) represents Margin Victory, \\(M\\) Majority (calculated ), \\(T_{votes}\\) total valid votes cast electorate candidates. insights use datasets, see Party Candidate Votes article Majority article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"overhang-seats","dir":"Articles","previous_headings":"","what":"Overhang Seats","title":"NZ Elections Explained","text":"circumstances party won electorates entitled proportion Party Vote, candidates retain electorates total number MPs elected parliament increases. referred overhang seats. Learn identify overhang seats election Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"eligibility","dir":"Articles","previous_headings":"","what":"Eligibility","title":"NZ Elections Explained","text":"parties eligible seats allocated , either need receive five per cent Party Vote win least one electorate. Successful variable summary dataset indicates party eligibility election results.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"before-mmp","dir":"Articles","previous_headings":"","what":"Before MMP","title":"NZ Elections Explained","text":"1993, New Zealanders voted change voting system FPTP MMP. preMMP_results dataset covers data 1890 1996, allowing comparisons post-MMP Party Vote. See Summary article example use data.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"turnout","dir":"Articles","previous_headings":"","what":"Turnout","title":"NZ Elections Explained","text":"New Zealand Electoral Commission calculates voter turnout follows: \\[ {T} = \\left( \\frac{{V_{cast}}}{{E_{total}}} \\right) \\times 100 \\] : \\(T\\) represents Turnout percentage, \\(V_{cast}\\) Total Votes Cast (includes valid, informal, disallowed votes), \\(E_{total}\\) Total Electors Master Roll (including General Māori electoral rolls). Explore electorate-level turnout data turnout dataset, national-level data turnout_historic dataset, use Turnout article. Note latter dataset, Party Vote turnout used national figure. figures 1978 also amended disregard hundreds thousands duplicated names electoral roll. can found footnotes electoral commissions website .","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"vote-types","dir":"Articles","previous_headings":"","what":"Vote Types","title":"NZ Elections Explained","text":"New Zealand’s electoral system encompasses range vote types, categorised method validity. Methods Voting Ordinary Votes: Cast -person election day. Special Votes - Within New Zealand: voters outside electorate, late registrants, needing anonymity, hospitals prisons. Special Votes - Overseas: New Zealanders abroad, ensuring 1 5 Kiwis overseas can still vote. Validity Votes Valid Votes: Properly cast meeting criteria. Informal Votes: voter intent unclear, due improper filling, illegibility, multiple markings. Disallowed Votes: counted due late receipt, unauthenticated special votes, ineligibility voter. vote_type dataset offers -depth breakdown types. analysis examples, see Vote Type article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"split-voting","dir":"Articles","previous_headings":"","what":"Split Voting","title":"NZ Elections Explained","text":"Split voting occurs voters choose candidate one party Candidate Vote different party Party Vote. phenomenon reflects flexibility MMP system, allowing voters support local candidate irrespective preferred party proportional representation. Explore national-level flow votes split_total dataset electorate-level data split_electorate dataset. practical examples, refer Split Voting article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"party-and-candidate-votes","dir":"Articles","previous_headings":"","what":"Party and Candidate Votes","title":"Party and Candidate Votes","text":"party_votes candidate_votes datasets contain party candidate votes, respectively, electorate party. Currently, party_votes parties listed, including informal vote, candidate_votes successful parties listed remaining parties listed “”. informal vote also included. Future updates candidate_votes dataset replicate party_votes dataset “” category broken parties informal vote included.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"upload-data","dir":"Articles","previous_headings":"Party and Candidate Votes","what":"Upload data","title":"Party and Candidate Votes","text":"View shape data frame. Party Votes Candidate Votes","code":"df <- scgUtils::get_data(\"party_votes\") head(df) #> # A tibble: 6 x 5 #>   Election Ballot Electorate       Party                            Votes #>      <dbl> <chr>  <chr>            <chr>                            <int> #> 1     2023 Party  Auckland Central ACT Party                         3301 #> 2     2023 Party  Auckland Central Animal Justice Party                50 #> 3     2023 Party  Auckland Central Aotearoa Legalise Cannabis Party   142 #> 4     2023 Party  Auckland Central DemocracyNZ                         32 #> 5     2023 Party  Auckland Central Freedoms NZ                         48 #> 6     2023 Party  Auckland Central Green Party                       8503 df1 <- scgUtils::get_data(\"candidate_votes\") head(df1) #> # A tibble: 6 x 6 #>   Election Ballot    Electorate       Party          Votes Percentage #>      <dbl> <chr>     <chr>            <chr>          <dbl>      <dbl> #> 1     2023 Candidate Auckland Central ACT Party       1235       3.59 #> 2     2023 Candidate Auckland Central Green Party    16624      48.3 #> 3     2023 Candidate Auckland Central Labour Party    2608       7.57 #> 4     2023 Candidate Auckland Central National Party 12728      37.0 #> 5     2023 Candidate Auckland Central NZ First           0       0 #> 6     2023 Candidate Auckland Central Maori Party        0       0"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"merging-datasets","dir":"Articles","previous_headings":"Party and Candidate Votes","what":"Merging datasets","title":"Party and Candidate Votes","text":"Merge two candidate party vote datasets together long form data frame.","code":"df <- df %>%   mutate(Party = ifelse(Party %in% c(\"Labour Party\", \"National Party\", \"Green Party\",                                      \"ACT Party\", \"NZ First\", \"Maori Party\"), Party,                         \"Other\")) %>%   group_by(Election, Electorate, Ballot, Party) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Election, Electorate, Ballot) %>%   mutate(Percentage = Votes / sum(Votes) * 100) %>%   ungroup()  df2 <- rbind(df, df1)  head(df2) #> # A tibble: 6 × 6 #>   Election Electorate Ballot Party          Votes Percentage #>      <dbl> <chr>      <chr>  <chr>          <dbl>      <dbl> #> 1     1996 Albany     Party  ACT Party       3910      10.9  #> 2     1996 Albany     Party  Labour Party    7221      20.2  #> 3     1996 Albany     Party  NZ First        3536       9.89 #> 4     1996 Albany     Party  National Party 15812      44.2  #> 5     1996 Albany     Party  Other           5280      14.8  #> 6     1996 Aoraki     Party  ACT Party       1677       5.04"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"plot","dir":"Articles","previous_headings":"Party and Candidate Votes","what":"Plot","title":"Party and Candidate Votes","text":"Visualise 2023 candidate vote party vote scatter plot faceted party.","code":"df2 <- df2 %>%   filter(Election == 2023) %>%   mutate(Ballot = ifelse(Ballot == \"Party\", \"Party Vote\", \"Candidate Vote\")) %>%   select(Election, Ballot, Electorate, Party, Percentage) %>%   tidyr::pivot_wider(names_from = Ballot, values_from = Percentage)  df2[is.na(df2)] <- 0  df2 %>%   filter(Party != \"Other\") %>%   ggplot(aes(x = `Candidate Vote`, y = `Party Vote`, colour = Party)) +   geom_smooth(method = \"lm\", se = TRUE, formula = y ~ x,               colour = scgUtils::colour_pal(\"French Grey\"),               size = 0.5, fill = \"#F4F4F5\", alpha = 0.5) +   geom_point() +   ggpmisc::stat_poly_eq(colour = scgUtils::colour_pal(\"Regent Grey\")) +   facet_wrap(. ~ Party) +   scale_colour_manual(values = scgUtils::colour_pal(\"polNZ\")) +   coord_equal(ylim = c(0, 80), xlim = c(0, 80)) +   labs(title = \"2023 Candidate vs Party Vote\\nby Electorate and Party\",        y = \"Party Vote (%)\\n\",        x = \"Candidate Vote (%)\") +   scgUtils::theme_scg() +   theme(legend.position = \"none\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-1-tally-party-votes","dir":"Articles","previous_headings":"","what":"Step 1: Tally Party Votes","title":"Seat Allocation Explained","text":"First, Party Votes tallied party number electorate seats won also tallied.","code":"# load dataset df <- scgUtils::get_data(\"summary\") df <- df %>%   # filter out total ballot type, leaving the candidate and party ballor   # types only   filter(Ballot != \"Total\",          # filter for the most recent election          Election == 2023) %>%   # keep party votes only by removing candidate votes   mutate(Votes = ifelse(Ballot == \"Candidate\", 0, Votes),          # NB % is not required in this step and is only included          # for illustrative purposes          Percentage = ifelse(Ballot == \"Candidate\", 0, Percentage),          # keep the number of electorate seats only by removing          # party/list seats          Seats = ifelse(Ballot == \"Party\", 0, Seats)) %>%   # group long format data frame (NB keep 'Successful' column)   group_by(Party, Successful) %>%   summarise(Votes = sum(Votes), Percentage = sum(Percentage),             Seats = sum(Seats), .groups = 'drop') %>%   ungroup() %>%   arrange(-Votes)  head(df) #> # A tibble: 6 × 5 #>   Party          Successful   Votes Percentage Seats #>   <chr>          <chr>        <dbl>      <dbl> <dbl> #> 1 National Party Yes        1085851      38.1     43 #> 2 Labour Party   Yes         767540      26.9     17 #> 3 Green Party    Yes         330907      11.6      3 #> 4 ACT Party      Yes         246473       8.64     2 #> 5 NZ First       Yes         173553       6.09     0 #> 6 Maori Party    Yes          87844       3.08     6"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-2-determine-seat-entitlement","dir":"Articles","previous_headings":"","what":"Step 2: Determine Seat Entitlement","title":"Seat Allocation Explained","text":"Next, ineligible parties (achieve 5% Party Vote win least 1 electorate) removed denominator total votes. percentage party votes recalculated seat entitlement number top-seats determined.","code":"df <- df %>%   # filer out ineligible parties   filter(Successful == \"Yes\") %>%         # New percentage   mutate(Percentage = Votes/sum(Votes)*100,          # Number of seats each party is entitled to          Entitlement = round(120 * Percentage/100, digits=0),          # Number of top-up seats          Top_Up = Entitlement - Seats) head(df) #> # A tibble: 6 × 7 #>   Party          Successful   Votes Percentage Seats Entitlement Top_Up #>   <chr>          <chr>        <dbl>      <dbl> <dbl>       <dbl>  <dbl> #> 1 National Party Yes        1085851      40.3     43          48      5 #> 2 Labour Party   Yes         767540      28.5     17          34     17 #> 3 Green Party    Yes         330907      12.3      3          15     12 #> 4 ACT Party      Yes         246473       9.16     2          11      9 #> 5 NZ First       Yes         173553       6.45     0           8      8 #> 6 Maori Party    Yes          87844       3.26     6           4     -2"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-3-use-saint-laguë-formula","dir":"Articles","previous_headings":"","what":"Step 3: Use Saint-Laguë Formula","title":"Seat Allocation Explained","text":"Next, Sainte-Laguë formula, \\(Quotient = \\frac{Votes}{(2s + 1)}\\), used determine order seats. NB \\(s\\) begins 0 Party increases 1 seats allocated round. means total number \\(Votes\\) party divided odd number every round. .e., \\((2 \\times 0 + 1) = 1\\) \\((2 \\times 1 + 1) = 3\\) \\((2 \\times 2 + 1) = 5\\) …","code":"n <- 120 # Total number of seats: df1 <- data.frame() # s begins at 0 and sequences up until total number of seats # has been reached for(s in seq(0,n)) {     tmp <- df %>%       # Saint-Lague Formula:       mutate(Quotient = Votes / (2*s + 1),              # included for illustrative purposes only              s = s) %>%       select(Party, Quotient, s)     df1 <- rbind(df1, tmp) } head(df1,10) #> # A tibble: 10 × 3 #>    Party          Quotient     s #>    <chr>             <dbl> <int> #>  1 National Party 1085851      0 #>  2 Labour Party    767540      0 #>  3 Green Party     330907      0 #>  4 ACT Party       246473      0 #>  5 NZ First        173553      0 #>  6 Maori Party      87844      0 #>  7 National Party  361950.     1 #>  8 Labour Party    255847.     1 #>  9 Green Party     110302.     1 #> 10 ACT Party        82158.     1"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-4-determine-allocation-order","dir":"Articles","previous_headings":"","what":"Step 4: Determine Allocation Order","title":"Seat Allocation Explained","text":"seat allocated party based order \\(Quotient\\) highest lowest. continues 120 seats allocated (NB disregards overhang seats given come excess electorate seats list seats).","code":"# Order seats by Quotient (highest to lowest) and subset # rows by the total number of seats (120): df1 <- df1[order(-df1$Quotient),] df1 <- df1[1:n,]  # Allocate seat number: df1$Allocation <- 1:n head(df1,10) #> # A tibble: 10 × 4 #>    Party          Quotient     s Allocation #>    <chr>             <dbl> <int>      <int> #>  1 National Party 1085851      0          1 #>  2 Labour Party    767540      0          2 #>  3 National Party  361950.     1          3 #>  4 Green Party     330907      0          4 #>  5 Labour Party    255847.     1          5 #>  6 ACT Party       246473      0          6 #>  7 National Party  217170.     2          7 #>  8 NZ First        173553      0          8 #>  9 National Party  155122.     3          9 #> 10 Labour Party    153508      2         10"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-5-allocate-seats","dir":"Articles","previous_headings":"","what":"Step 5: Allocate Seats","title":"Seat Allocation Explained","text":"Finally, electorate seats won parties allocated first remaining entitlement allocated remaining candidates party lists (win electorate).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"split-voting","dir":"Articles","previous_headings":"","what":"Split Voting","title":"Split Voting","text":"split_total split_electorate datasets contains number voters cast party vote different party candidate vote national level, party. dataset election years 2005 2023 due split-ticket voting data available previous years.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"upload-data","dir":"Articles","previous_headings":"Split Voting","what":"Upload data","title":"Split Voting","text":"View shape data frame.","code":"df <- scgUtils::get_data(\"split_total\") # or # df <- scgUtils::get_data(\"split_electorate\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"prepare-sankey","dir":"Articles","previous_headings":"Split Voting","what":"Prepare Sankey","title":"Split Voting","text":"Prepare sankey data.","code":"# Filter 2023 election data only df <- df[df$Election == 2023, ]  # If electoral-level dataset is used, also filter by Electorate # df <- df[df$Election == 2023 & df$Electorate == \"Auckland Central\", ]  # Rename unsuccessful minor parties into \"Other\" category df <- update_names(df, nameCol = \"List_Party\") df <- update_names(df, nameCol = \"Electorate_Party\")  df <- df %>%   # Get sum of votes by flow   group_by(List_Party, Electorate_Party) %>%   summarise(Vote = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   # Get percent of party vote going to candidate vote   group_by(List_Party) %>%   mutate(Percent = paste0(round(Vote/sum(Vote)*100,2), \"%\")) %>%   ungroup()  head(df) #> # A tibble: 6 × 4 #>   List_Party Electorate_Party   Vote Percent #>   <chr>      <chr>             <dbl> <chr>   #> 1 ACT Party  ACT Party        68692. 28.46%  #> 2 ACT Party  Green Party       2095. 0.87%   #> 3 ACT Party  Informal          1356. 0.56%   #> 4 ACT Party  Labour Party      7715. 3.2%    #> 5 ACT Party  Maori Party        715. 0.3%    #> 6 ACT Party  NZ First          3106. 1.29%"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"plot","dir":"Articles","previous_headings":"Split Voting","what":"Plot","title":"Split Voting","text":"Using scgUtils package, create sankey visualise split vote candidate vote (left) party vote (right). Use colour_prep function package match party colours correct political party. NB. Percentage votes within tooltip nodes exactly equal party_vote candidate_vote party due rounding.","code":"scgUtils::plot_sankey(   data = df,   source = \"List_Party\", # left side of sankey   target = \"Electorate_Party\", # right side of sankey   value = \"Vote\",   colours = scgUtils::colour_prep(df, c(\"List_Party\",\"Electorate_Party\"), pal_name = \"polNZ\"),   width = 900, # reduce width from default of 1200   height = 700, # reduce height from default of 800   shiftLabel = 8 # manually shift labels to outside of plot if odd number of parties on each side ) # %>%   # save from viewer to html   # htmlwidgets::saveWidget(file=\"sankey_2023.html\", selfcontained = TRUE)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Summary","text":"summary dataset contains overall results national-level Election, Ballot, Party. can used find number seats, votes (n & %), nominations/party list ballot type - Candidate Vote, Party Vote, Total (Seats column = Candidate + Party; Vote column = Party ). can also used find number overhang seats party can attributed . NB overhang seats occur Party Vote entitles party fewer seats number electorate seats won.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"upload-data","dir":"Articles","previous_headings":"Summary","what":"Upload data","title":"Summary","text":"View shape data frame.","code":"# Load datasets by using the following helper function: df <- scgUtils::get_data(\"summary\") # Alternatively, use: data(\"summary\"), then df <- summary head(df) #>   Election Ballot                            Party Seats  Votes #> 1     2023  Party                        ACT Party     9 246473 #> 2     2023  Party            Animal Justice Party      0   5018 #> 3     2023  Party Aotearoa Legalise Cannabis Party     0  13025 #> 4     2023  Party                      DemocracyNZ     0   6786 #> 5     2023  Party                      Freedoms NZ     0   9586 #> 6     2023  Party      NZ Outdoors & Freedom Party     0      0 #>    Percentage Nominated Registered Successful #> 1        8.64        60        Yes        Yes #> 2        0.18        17        Yes         No #> 3        0.46        16        Yes         No #> 4        0.24        13        Yes         No #> 5        0.34        35        Yes         No #> 6        0.00         0        Yes         No"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"party-and-candidate-votes","dir":"Articles","previous_headings":"Summary","what":"Party and Candidate Votes","title":"Summary","text":"removes Total ballot type dataset, leaving just Party vote Candidate vote. data filtered recent election.","code":"df %>%   filter(Ballot != \"Total\", Election == 2023) %>%   arrange(-Percentage) %>%   head(n = 10) #>    Election          Party    Ballot Seats   Votes Percentage Nominated #> 1      2023 National Party Candidate    43 1192251      43.47        67 #> 2      2023 National Party     Party     5 1085851      38.08        74 #> 3      2023   Labour Party Candidate    17  855963      31.21        72 #> 4      2023   Labour Party     Party    17  767540      26.92        76 #> 5      2023    Green Party     Party    12  330907      11.61        49 #> 6      2023      ACT Party     Party     9  246473       8.64        60 #> 7      2023    Green Party Candidate     3  226575       8.26        52 #> 8      2023       NZ First     Party     8  173553       6.09        35 #> 9      2023      ACT Party Candidate     2  149507       5.45        59 #> 10     2023    Maori Party Candidate     6  106584       3.89        17 #>    Registered Successful #> 1         Yes        Yes #> 2         Yes        Yes #> 3         Yes        Yes #> 4         Yes        Yes #> 5         Yes        Yes #> 6         Yes        Yes #> 7         Yes        Yes #> 8         Yes        Yes #> 9         Yes        Yes #> 10        Yes        Yes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"overhang-seats","dir":"Articles","previous_headings":"Summary","what":"Overhang Seats","title":"Summary","text":"Filtering include Total ballot type whether party successful (.e., achieved eligibility requirements), means able determine overhang seats can attributed . data filtered recent election.","code":"df %>%   filter(Successful == \"Yes\", Ballot == \"Total\", Election == 2023) %>%   group_by(Election) %>%   mutate(`%` = Votes/sum(Votes)*100) %>%   ungroup() %>%   mutate(Overhang = Seats-round(120*`%`/100,0)) #> # A tibble: 6 × 11 #>   Election Party       Ballot Seats  Votes Percentage Nominated Registered #>      <dbl> <chr>       <chr>  <int>  <dbl>      <dbl>     <int> <chr>      #> 1     2023 ACT Party   Total     11 2.46e5       8.64       119 Yes        #> 2     2023 Green Party Total     15 3.31e5      11.6        101 Yes        #> 3     2023 Labour Par… Total     34 7.68e5      26.9        148 Yes        #> 4     2023 Maori Party Total      6 8.78e4       3.08        48 Yes        #> 5     2023 NZ First    Total      8 1.74e5       6.09        69 Yes        #> 6     2023 National P… Total     48 1.09e6      38.1        141 Yes        #> # ℹ 3 more variables: Successful <chr>, `%` <dbl>, Overhang <dbl>"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"plot","dir":"Articles","previous_headings":"Summary","what":"Plot","title":"Summary","text":"Visualise number seats won party election using stacked bar chart.","code":"df %>%   # remove parties which did not win a seat   filter(Successful == \"Yes\", Ballot == \"Total\") %>%   ggplot(aes(x = Election, y = Seats,              fill = factor(Party, levels = c(\"National Party\",\"ACT Party\",\"NZ First\",                                              \"United Future\",\"Jim Anderton's Progressive\",                                              \"MANA\",\"Maori Party\",\"Alliance\",\"Green Party\",                                              \"Labour Party\")))) +   geom_bar(stat=\"identity\", colour=\"white\", linewidth=0.15, alpha=0.8) +   # indicate majority required for a 120 seat parliament   geom_hline(yintercept = 60, colour = \"white\", linewidth=0.5) +   # indicate overhang seats   geom_hline(yintercept = 120, colour = scgUtils::colour_pal(\"French Grey\")) +   annotate(\"text\", x=2025, y =120, label = \"Overhang\",            colour = scgUtils::colour_pal(\"Regent Grey\"),            size=3.5, fontface=2) +   coord_flip(clip = \"off\", xlim = c(1994.5,2024.5)) +   labs(title = \"No. of Seats by Election and Party (1996 - 2023)\",        fill = \"Party\") +   scale_fill_manual(values = scgUtils::colour_pal(\"polNZ\")) +   scale_y_continuous(expand = c(0,0)) +   scale_x_continuous(expand = c(0,0), \"Election\",                      labels = as.character(df$Election), breaks = df$Election) +   scgUtils::theme_scg() +   theme(panel.grid.major.y = element_blank(),         panel.grid.minor.y = element_blank())"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"premmp-results","dir":"Articles","previous_headings":"","what":"preMMP Results","title":"Summary","text":"dataset can combined preMMP_results dataset contains overall results 1890 1993 party national-level.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"upload-data-1","dir":"Articles","previous_headings":"preMMP Results","what":"Upload data","title":"Summary","text":"View shape data frame.","code":"df1 <- scgUtils::get_data(\"preMMP_results\") head(df1) #>   Election              Party Seats Percentage #> 1     1890            Liberal    38      56.10 #> 2     1890 Conservative Party    25      28.90 #> 3     1890       Independents    11      15.00 #> 4     1893            Liberal    51      57.80 #> 5     1893 Conservative Party    13      24.49 #> 6     1893       Independents    10      17.71"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"merge-datasets","dir":"Articles","previous_headings":"preMMP Results","what":"Merge datasets","title":"Summary","text":"match preMMP_results dataset, summary dataset filtered ballot variable include Total .","code":"df <- df %>%   filter(Ballot == \"Total\") %>%   mutate(Party = ifelse(Successful == \"Yes\", Party, \"Other\")) %>%   group_by(Election, Party) %>%   summarise(Seats = sum(Seats), Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Election) %>%   mutate(Percentage = Votes/sum(Votes)*100) %>%   ungroup() %>%   select(Election, Party, Seats, Percentage) df2 <- rbind(df, df1)  # view dataset head(df2) #> # A tibble: 6 × 4 #>   Election Party          Seats Percentage #>      <dbl> <chr>          <int>      <dbl> #> 1     1996 ACT Party          8       6.10 #> 2     1996 Alliance          13      10.1  #> 3     1996 Labour Party      37      28.2  #> 4     1996 NZ First          17      13.3  #> 5     1996 National Party    44      33.8  #> 6     1996 Other              0       7.54"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"plot-1","dir":"Articles","previous_headings":"preMMP Results","what":"Plot","title":"Summary","text":"Visualise number party vote election using stacked bar chart.","code":"df2 <- df2 %>%   # filter 1935 until current time (since the beginning of the National and Labour parties)   filter(Election >= 1935) %>%   mutate(Party = ifelse(Party %in% c(\"National Party\", \"Labour Party\"), Party,                  ifelse(Party == \"United-Reform ('National')\", \"National Party\",                         \"Other\")),          Party = factor(Party, levels = c(\"National Party\", \"Other\", \"Labour Party\"))) %>%   group_by(Election, Party) %>%   summarise(Percentage = round(sum(Percentage),2), .groups = 'drop') %>%   ungroup()  df2 %>%   ggplot(aes(x = reorder(Election, -Election), y = Percentage,              fill = Party)) +   geom_bar(stat = \"identity\", alpha = 0.8, width = 1, size = 0) +   geom_bar(data = df2%>%filter(Election == 2023), aes(x = 1, y = Percentage, fill = Party),            stat = \"identity\", alpha = 1, width = 1) +   # Add 50% line   geom_hline(yintercept = 50, colour = \"white\") +   annotate(\"text\", x = 31.2, y = 50, label = \"50%\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\")) +   annotate(\"text\", x = 31.2, y = 0, label = \"Party Vote >\", size = 3, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 0) +   annotate(\"text\", x = 31.2, y = 100, label = \"< Party Vote\", size = 3, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 1) +   # Add dashed lines for 2023 result   geom_hline(yintercept = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"],              colour = \"white\", linewidth = 0.5, linetype = \"dashed\") +   geom_hline(yintercept = 100-df2$Percentage[df2$Election == 2023 & df2$Party == \"National Party\"],              colour = \"white\", linewidth = 0.5, linetype = \"dashed\") +   # Add introduction of MMP line   geom_vline(xintercept = 10.5, colour = scgUtils::colour_pal(\"Black80\"),              linetype = \"dashed\", linewidth = 0.25) +   annotate(\"text\", x = 10.5, y = 100.75, label = \"MMP introduced\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Black80\"), hjust = 0) +   # Add text to 2023 result   geom_text(x = 1, y = 1,             label = paste0(df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"], \"%\"),             hjust = 0, size = 3, colour = \"white\") +   annotate(\"text\", x = 0, y = 0, label = \"Labour\", size = 3.5, fontface = 2,            colour = \"#D82A20\", hjust = 0) +   geom_text(x = 1, y = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"]+     (df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"]/2),             label = paste0(format(df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"],                                   nsmall=2), \"%\"),             hjust = 0.5, size = 3, colour = scgUtils::colour_pal(\"Black80\")) +   annotate(\"text\", x = 0, y = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"]+     (df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"]/2),            label = \"Minor Parties\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 0.5) +   geom_text(x = 1, y = 99,             label = paste0(df2$Percentage[df2$Election == 2023 & df2$Party == \"National Party\"], \"%\"),             hjust = 1, size = 3, colour = \"white\") +   annotate(\"text\", x = 0, y = 100,            label = \"National\", size = 3.5, fontface = 2,            colour = \"#00529F\", hjust = 1) +   labs(title = \"% Party Vote by Election between 1935 and 2023\") +   scale_y_continuous(expand = c(0,0), position = \"right\",                      breaks = seq(0, 100, by = 5)) +   scale_fill_manual(values = scgUtils::colour_pal(\"polNZ\")) +   coord_flip(clip = \"off\", xlim = c(1,30), ylim = c(0,100.25)) +   scgUtils::theme_scg() +   theme(legend.position = \"none\",         plot.margin = unit(c(1,3,1,1), \"cm\"),         plot.title = element_text(vjust = 5, colour = scgUtils::colour_pal(\"Black80\")),         panel.grid.major = element_blank(),         panel.grid.minor = element_blank(),         axis.line = element_blank(),         axis.ticks.y = element_blank(),         axis.title.x = element_blank(),         axis.title.y = element_blank(),         axis.text.x = element_blank()   )"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"turnout","dir":"Articles","previous_headings":"","what":"Turnout","title":"Turnout","text":"turnout dataset contains overall turnout informal vote electorate ballot type (Candidate Party). also total vote (informal + valid) total number electors election. dataset can combined turnout_historic dataset contains overall turnout national-level elections 1879 2023. also contains total number MPs parliament election, total number electors.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"upload-data","dir":"Articles","previous_headings":"Turnout","what":"Upload data","title":"Turnout","text":"View shape data frame.","code":"df <- scgUtils::get_data(\"turnout\") head(df) #>   Election Ballot           Electorate Electors Turnout Total Informal #> 2     2023  Party     Auckland Central    45426   78.66 35734       85 #> 3     2023  Party      Banks Peninsula    59383   84.10 49944      194 #> 4     2023  Party        Bay of Plenty    56200   81.53 45822      209 #> 5     2023  Party               Botany    53160   71.65 38087      189 #> 6     2023  Party Christchurch Central    50999   78.52 40044      166 #> 7     2023  Party    Christchurch East    50898   77.37 39378      203"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"merge-datasets","dir":"Articles","previous_headings":"Turnout","what":"Merge datasets","title":"Turnout","text":"Add national-level dataset electorate-level compare difference.","code":"df1 <- scgUtils::get_data(\"turnout_historic\") df2 <- left_join(df, df1, by = \"Election\")  df2 <- df2 %>%   filter(Ballot == \"Party\", Election == 2023) %>%   mutate(Turnout = Turnout.x - Turnout.y)  head(df2) #>   Election Ballot           Electorate Electors.x Turnout.x Total #> 1     2023  Party     Auckland Central      45426     78.66 35734 #> 2     2023  Party      Banks Peninsula      59383     84.10 49944 #> 3     2023  Party        Bay of Plenty      56200     81.53 45822 #> 4     2023  Party               Botany      53160     71.65 38087 #> 5     2023  Party Christchurch Central      50999     78.52 40044 #> 6     2023  Party    Christchurch East      50898     77.37 39378 #>   Informal MPs Electors.y Turnout.y Turnout #> 1       85 123    3688292      78.2    0.46 #> 2      194 123    3688292      78.2    5.90 #> 3      209 123    3688292      78.2    3.33 #> 4      189 123    3688292      78.2   -6.55 #> 5      166 123    3688292      78.2    0.32 #> 6      203 123    3688292      78.2   -0.83"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"plot","dir":"Articles","previous_headings":"Turnout","what":"Plot","title":"Turnout","text":"Visualise electorate turnout average turnout election year (2023).","code":"df2 %>%   ggplot(aes(x=Turnout, y=reorder(Electorate, Turnout), fill = ifelse(Turnout < 0,                                                                       \"Underperformed\",                                                                       \"Overperformed\"))) +   geom_bar(stat = \"identity\") +   scale_fill_manual(values = scgUtils::colour_pal(\"divBlueGreen\", n = 2)) +   scale_x_continuous(limits = c(-16,16), expand = c(0,0)) +   labs(title = \"Comparing the National-Level Turnout\\nwith the Electorate-Level\",        fill = \"\",        y = \"\",        x = \"% Difference in Turnout\\n(Electorate - National)\") +   scgUtils::theme_scg() +   theme(panel.border = element_rect(colour=scgUtils::colour_pal(\"French Grey\")))"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"upload-data-1","dir":"Articles","previous_headings":"Turnout (Historic)","what":"Upload data","title":"Turnout","text":"View shape data frame.","code":"head(df1) #>   Election MPs Electors Turnout #> 1     1879  88    82271    66.5 #> 2     1881  95   120972    66.5 #> 3     1884  95   137686    60.6 #> 4     1887  95   175410    67.1 #> 5     1890  74   183171    80.4 #> 6     1893  74   302997    75.3"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"plot-1","dir":"Articles","previous_headings":"Turnout (Historic)","what":"Plot","title":"Turnout","text":"Visualise turnout time see 2023 compares.","code":"df1 %>%   ggplot(aes(x = as.character(Election), y = Turnout, label = Turnout)) +   geom_bar(data=df1,            aes(x = as.character(Election), y = 100),            stat = \"identity\",            fill = scgUtils::colour_pal(\"French Grey\"),            alpha=0.5) +   geom_bar(stat = \"identity\",            fill = scgUtils::colour_pal(\"Waterloo\")) +   geom_hline(yintercept = df1$Turnout[df1$Election == 2023],              colour = \"white\", linetype = \"dashed\") +   geom_text(hjust = 0, nudge_y = 0.5, size = 3.5, fontface=2,             colour = scgUtils::colour_pal(\"Waterloo\")) +   coord_flip(clip = \"off\", xlim = c(1,length(df1$Election))) +   annotate(\"text\", x=length(df1$Election)+1.5,            y = df1$Turnout[df1$Election == 2023],            label = \"2023\",            colour = scgUtils::colour_pal(\"Regent Grey\"),            size=3.5, fontface=2) +   scale_y_continuous(limits = c(0,100), expand = c(0,0)) +   labs(title = \"Turnout Over Time (1879 - 2023)\",        y = \"Turnout (%)\",        x = \"Election\") +   scgUtils::theme_scg() +   theme(panel.grid.major.y = element_blank(),         panel.grid.minor = element_blank(),         panel.border = element_rect(colour=scgUtils::colour_pal(\"French Grey\")))"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"vote-type","dir":"Articles","previous_headings":"","what":"Vote Type","title":"Vote Type","text":"vote_type dataset contains validity vote (Disallowed, Informal, Valid) vote type (Ordinary, Special - NZ, Special - Overseas) electorate ballot type (Candidate Party).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"upload-data","dir":"Articles","previous_headings":"Vote Type","what":"Upload data","title":"Vote Type","text":"View shape data frame.  Disallowed votes (%) View percent disallowed votes electorate ballot type.  Overseas votes (%) View percentage voters overseas electorate.","code":"df <- scgUtils::get_data(\"vote_type\") head(df) #> # A tibble: 6 x 6 #>   Election Ballot    Electorate       Validity   Method             Votes #>      <dbl> <chr>     <chr>            <chr>      <chr>              <dbl> #> 1     2023 Candidate Auckland Central Disallowed Ordinary               0 #> 2     2023 Candidate Auckland Central Disallowed Special              988 #> 3     2023 Candidate Auckland Central Informal   Ordinary             160 #> 4     2023 Candidate Auckland Central Informal   Special - NZ         129 #> 5     2023 Candidate Auckland Central Informal   Special - Overseas    14 #> 6     2023 Candidate Auckland Central Valid      Ordinary           23227 df %>%   filter(Election == 2023) %>%   group_by(Ballot, Electorate, Validity) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Ballot, Electorate) %>%   mutate(Percentage = Votes/sum(Votes)*100) %>%   ungroup() %>%   filter(Validity == \"Disallowed\") %>%   arrange(-Percentage) %>%   head(n = 10) #> # A tibble: 10 × 5 #>    Ballot    Electorate      Validity   Votes Percentage #>    <chr>     <chr>           <chr>      <dbl>      <dbl> #>  1 Candidate Port Waikato    Disallowed   804      11.7  #>  2 Candidate Hauraki-Waikato Disallowed  1767       6.77 #>  3 Candidate Tamaki Makaurau Disallowed  1749       6.59 #>  4 Candidate Manurewa        Disallowed  1652       5.59 #>  5 Candidate Te Tai Tokerau  Disallowed  1553       5.42 #>  6 Candidate Waiariki        Disallowed  1502       5.10 #>  7 Candidate Te Tai Hauauru  Disallowed  1324       4.91 #>  8 Candidate Panmure-Otahuhu Disallowed  1416       4.68 #>  9 Candidate Ikaroa-Rawhiti  Disallowed  1244       4.61 #> 10 Candidate Te Tai Tonga    Disallowed  1191       4.18 df %>%         # including only valid and informal votes   filter(Election == 2023, Validity != \"Disallowed\") %>%   group_by(Ballot, Electorate, Method) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Ballot, Electorate) %>%   mutate(Percentage = Votes/sum(Votes)*100) %>%   ungroup() %>%   filter(Method == \"Special - Overseas\") %>%   arrange(-Percentage) %>%   head(n = 10) #> # A tibble: 10 × 5 #>    Ballot    Electorate         Method             Votes Percentage #>    <chr>     <chr>              <chr>              <dbl>      <dbl> #>  1 Candidate Port Waikato       Special - Overseas   478       7.89 #>  2 Candidate Wellington Central Special - Overseas  3307       7.80 #>  3 Party     Wellington Central Special - Overseas  3312       7.76 #>  4 Candidate Auckland Central   Special - Overseas  2232       6.79 #>  5 Party     Auckland Central   Special - Overseas  2239       6.72 #>  6 Candidate Epsom              Special - Overseas  2352       6.29 #>  7 Party     Epsom              Special - Overseas  2354       6.21 #>  8 Candidate Mt Albert          Special - Overseas  1928       5.27 #>  9 Party     Mt Albert          Special - Overseas  1935       5.24 #> 10 Candidate Rongotai           Special - Overseas  2027       4.96"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"add-region","dir":"Articles","previous_headings":"Vote Type","what":"Add region","title":"Vote Type","text":"Add column facet region.","code":"df <- add_data(df, output = \"region\") head(df) #>   Electorate Election Ballot   Validity             Method Votes   Region #> 1     Albany     1999  Party   Informal Special - Overseas     0 Auckland #> 2     Albany     1999  Party   Informal Special - Overseas     0 Auckland #> 3     Albany     1996  Party   Informal       Special - NZ    11 Auckland #> 4     Albany     1996  Party   Informal       Special - NZ    11 Auckland #> 5     Albany     1999  Party Disallowed            Special   592 Auckland #> 6     Albany     1999  Party Disallowed            Special   592 Auckland"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"plot","dir":"Articles","previous_headings":"Vote Type","what":"Plot","title":"Vote Type","text":"Filter Party vote exclude disallowed votes denominator. Visualise proportion votes cast overseas region election.","code":"df <- df %>%    # including only valid and informal votes   filter(Ballot == \"Party\", Validity != \"Disallowed\") %>%   group_by(Election, Region, Method) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Election, Region) %>%   mutate(Percentage = Votes/sum(Votes)*100) %>%   ungroup() %>%   filter(Method == \"Special - Overseas\") %>%   arrange(-Percentage)  df %>%   ggplot(aes(x=as.character(Election), y=Percentage, group=Region, colour=Region)) +   geom_line() +   geom_point() +   gghighlight::gghighlight(use_direct_label = F) +   facet_wrap(.~reorder(Region, -Percentage)) +   scale_colour_manual(values = c(\"#374e8e\", \"#e3b13e\", \"#df7c18\", \"#ac004f\",                                  \"#704600\", \"#1b87aa\", \"#478c5b\"),                       breaks = c(\"South Island\", \"Wellington / Wairarapa\",                                  \"Taranaki / Whanganui / Manawatu\",                                  \"Bay of Plenty / Hawke's Bay / Gisborne\",                                  \"Waikato\", \"Auckland\", \"Northland\")) +   labs(title = \"Proportion of Overseas Special Party Votes\\nby Region over Time (1996 - 2023)\",        y = \"Percentage (%)\\n\",        x = \"Election\") +   scgUtils::theme_scg() +   theme(axis.text.x = element_text(angle = 45, vjust = 0.5),         legend.position = \"none\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sarah Gall. Author, maintainer.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gall S (2024). scgElectionsNZ: New Zealand Election Data Explorer. R package version 0.0.1, https://sarahcgall.github.io/scgElectionsNZ/, https://github.com/sarahcgall/scgElectionsNZ.","code":"@Manual{,   title = {scgElectionsNZ: New Zealand Election Data Explorer},   author = {Sarah Gall},   year = {2024},   note = {R package version 0.0.1, https://sarahcgall.github.io/scgElectionsNZ/},   url = {https://github.com/sarahcgall/scgElectionsNZ}, }"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"New Zealand Election Data Explorer","text":"scgElectionsNZ R package providing comprehensive data tools analyzing New Zealand’s general election results 1996 2023. offers unique insight dynamics electoral process New Zealand, presented variety datasets functions.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"datasets-included","dir":"","previous_headings":"Overview","what":"Datasets Included:","title":"New Zealand Election Data Explorer","text":"summary: National-level overall results party. turnout: Electorate ballot type-specific turnout informal vote details. vote_type: Validity method votes electorate ballot. party_votes: Party votes electorate level. candidate_votes: Candidate votes electorate level. majority: Winning candidates margins victory electorate level. split_electorate: Electorate-level split-ticket voting data (2005 - 2023). split_total: National-level split-ticket voting data (2005 - 2023). preMMP_results: National-level results 1890 1993, MMP. historic_turnout: National-level turnout data 1879 2023.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"New Zealand Election Data Explorer","text":"install development version scgElectionsNZ, use:","code":"# Install the development version from GitHub devtools::install_github(\"sarahcgall/scgElectionsNZ\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"New Zealand Election Data Explorer","text":"scgElectionsNZ includes several helper functions enhance data analysis: add_data(): Enhances datasets regional electorate type information. update_names(): Standardises electorate names consistent analysis across years condense unsuccessful party names “” easier analysis. Example usage: Explore detailed examples dataset descriptions scgElectionsNZ documentation.","code":"library(scgElectionsNZ)  # Load a dataset df <- scgUtils::get_data(\"majority\")  # Add additional data df <- add_data(df, output=\"regions\") df <- add_data(df, output=\"type\")  # Standardise names df <- update_names(df, output = \"electorate\") df <- update_names(df, output = \"party\")"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"data-sources","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Data Sources","title":"New Zealand Election Data Explorer","text":"datasets scgElectionsNZ package meticulously curated official results provided New Zealand Electoral Commission. datasets offer comprehensive view New Zealand’s electoral outcomes crucial -depth analysis research political science, electoral studies, related fields.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"disclaimer","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Disclaimer","title":"New Zealand Election Data Explorer","text":"utmost care taken ensure accuracy reliability data, New Zealand Electoral Commission involved development package thus bear responsibility errors omissions datasets. Users scgElectionsNZ note package’s creators independently compiled, processed, presented data. discrepancies inaccuracies found within datasets reflect official records maintained Electoral Commission.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"currency-of-data","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Currency of Data","title":"New Zealand Election Data Explorer","text":"data included package --date 3 December 2023. Users aware subsequent electoral events data revisions Electoral Commission date may reflected current version scgElectionsNZ.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"future-additions-and-updates","dir":"","previous_headings":"","what":"Future Additions and Updates","title":"New Zealand Election Data Explorer","text":"Planned future additions include -election referendum results enhanced datasets like results_by_booths. Upcoming functional updates focus visualising election results specific New Zealand making boundary adjustments better comparative analysis.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"feedback-and-contributions","dir":"","previous_headings":"","what":"Feedback and Contributions","title":"New Zealand Election Data Explorer","text":"Suggestions contributions welcome. proposed additions, amendments, feedback, please create issue.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"New Zealand Election Data Explorer","text":"Check scgUtils additional functions visualisation tools.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"function enriches data frame additional data based New Zealand electorate names. dynamically adds specified data types regions electorate types (.e., \"General\" \"Maori\") new columns based specified output type. utilises internal datasets region type, map electorates corresponding regions types. function validates input data frame specified column. converts factor columns character ensure correct matching. Warnings issued specified column contains NA values, electorates matched. warning original data frame returned none electorates can matched.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"","code":"add_data(data, electorateCol = \"Electorate\", output = c(\"region\", \"type\"))"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"data data frame containing New Zealand electorate information. electorateCol Name column data containing electorate names. Defaults \"Electorate\". output Type additional data append. options : - \"region\": Adds \"Region\" column New Zealand region. - \"type\": Adds \"Electorate_Type\" column electorate types. Default \"region\".","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"data frame identical data additional column appended. case issues like unmatched electorates, original data frame returned warning.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"","code":"if (FALSE) {   data(majority)   df_region <- add_data(majority, output = \"region\")   df_types <- add_data(majority, output = \"type\") }"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":null,"dir":"Reference","previous_headings":"","what":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"Th candidate_votes dataset long format allows analysis candidate votes electorate successful registered parties. Useful exploring voting patterns party performance individual electorates time. usage examples, see Party Candidate Votes article. understanding candidate votes, consult NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"","code":"candidate_votes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"data frame 5,349 rows 6 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate). Electorate Name electorate (e.g., Auckland Central). Party Name successful registered party (e.g., ACT Party). Votes Total valid candidate votes party (0--49,510). Percentage Percentage total valid candidate votes party (0.00--78.06).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":null,"dir":"Reference","previous_headings":"","what":"Majority (1999 - 2023) — majority","title":"Majority (1999 - 2023) — majority","text":"majority dataset long format used identifying winning candidates electorate, party affiliations, margins victory. See Majority article use cases. methodology, refer 'Candidate Vote' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Majority (1999 - 2023) — majority","text":"","code":"majority"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Majority (1999 - 2023) — majority","text":"data frame 696 rows 7 variables: Election Year election (1996--2023). Electorate Electorate name (e.g., Auckland Central). Party Winning candidate's party name (e.g., Green Party). Candidate Winning candidate's name (e.g., SWARBRICK, Chloe Charlotte). Votes Majority votes: difference votes first second candidates (9--23,376). Percentage Margin victory percentage: majority votes / total valid votes cast (0.03--72.25). Party_List Whether candidate also party list (Yes, ).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Majority (1999 - 2023) — majority","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":null,"dir":"Reference","previous_headings":"","what":"Party Votes (1996 - 2023) — party_votes","title":"Party Votes (1996 - 2023) — party_votes","text":"party_votes dataset long format can used look party vote electorate registered party. Usage examples Party Candidate Votes article. insights party votes, refer NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Party Votes (1996 - 2023) — party_votes","text":"","code":"party_votes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Party Votes (1996 - 2023) — party_votes","text":"data frame 12,701 rows 5 variables: Election Year election (1996--2023). Ballot Type ballot (Party). Electorate Electorate name (e.g., Auckland Central). Party Registered party name (e.g., ACT Party). Votes Total valid party votes party (0--27,010).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Party Votes (1996 - 2023) — party_votes","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre-MMP Results (1890 - 1993) — preMMP_results","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"preMMP_results dataset long format offers historical insights party results general elections 1890 1993. dataset can used historical electoral analysis comparison post-MMP era. usage guidance, see Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"","code":"preMMP_results"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"data frame 162 rows 4 variables: Election Year election (1890--1993). Party Registered party name (e.g., Liberal). Seats Number seats won party (0--67). Percentage Percentage popular vote (0--58.7).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Electorate (2005 - 2023) — split_electorate","title":"Split Electorate (2005 - 2023) — split_electorate","text":"split_electorate dataset long format provides detailed view split voting electorate level party, 2005 2023. Essential understanding voter behaviour terms party candidate vote divergence. application examples, refer Split Voting article. grasp split voting concepts, see 'Split Voting' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Electorate (2005 - 2023) — split_electorate","text":"","code":"split_electorate"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Split Electorate (2005 - 2023) — split_electorate","text":"data frame 81,269 rows 6 variables: Election Year election (2005--2023). Electorate Electorate name (e.g., Auckland Central). List_Party Party voted party vote (e.g., 99 MP Party). Electorate_Party Party voted candidate vote (e.g., ACT Party). Votes Estimated number votes flowing list electorate parties. Percentage Percentage votes flowing list electorate parties.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Split Electorate (2005 - 2023) — split_electorate","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Total (2005 - 2023) — split_total","title":"Split Total (2005 - 2023) — split_total","text":"split_total dataset long format facilitates analysis overall split voting trends party 2005 2023. Ideal examining national-level voting patterns degree voter alignment party candidate preferences. usage, see Split Voting article. Split voting concepts detailed 'Split Voting' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Total (2005 - 2023) — split_total","text":"","code":"split_total"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Split Total (2005 - 2023) — split_total","text":"data frame 2,435 rows 5 variables: Election Year election (2005--2023). List_Party Party voted party vote (e.g., 99 MP Party). Electorate_Party Party voted candidate vote (e.g., ACT Party). Votes Estimated number votes flowing list electorate parties. Percentage Percentage votes flowing list electorate parties.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Split Total (2005 - 2023) — split_total","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary (1996 - 2023) — summary","title":"Summary (1996 - 2023) — summary","text":"summary dataset offers comprehensive overview election results 1996 2023, user-friendly long format. dataset useful broad analysis electoral trends party performance across different elections. practical application, see Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary (1996 - 2023) — summary","text":"","code":"summary"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Summary (1996 - 2023) — summary","text":"data frame 909 rows 9 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party, Total). Party Party name (e.g., ACT Party). Seats Number seats won party (0--65). Votes Total valid votes party. Percentage Percentage total valid votes party (0.00--50.01). Nominated Number nominated party lists ballot papers. Registered party registered (Yes, ). Successful party achieved eligibility requirement (Yes, ).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Summary (1996 - 2023) — summary","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":null,"dir":"Reference","previous_headings":"","what":"Turnout (1996 - 2023) — turnout","title":"Turnout (1996 - 2023) — turnout","text":"turnout dataset long format enables analysis elector turnout informal vote Electorate Ballot type 1996 2023. Key understanding voter participation effectiveness electoral engagement strategies. application insights, visit Turnout article. Turnout concepts explained 'Turnout' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turnout (1996 - 2023) — turnout","text":"","code":"turnout"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Turnout (1996 - 2023) — turnout","text":"data frame 1,392 rows 7 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party). Electorate Electorate name (e.g., Auckland Central). Electors Total number registered electors. Turnout Turnout percentage number electors. Total Total number votes cast - valid informal. Informal Total number informal votes cast.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Turnout (1996 - 2023) — turnout","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":null,"dir":"Reference","previous_headings":"","what":"Turnout (Historic) (1879 - 2023) — turnout_historic","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"turnout_historic dataset provides long-term perspective elector turnout general elections 1879 2023. Essential historical analysis voter engagement turnout trends time. use case examples, refer Turnout article. Turnout methodology detailed 'Turnout' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"","code":"turnout_historic"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"data frame 48 rows 4 variables: Election Year election (1879--2023). MPs Total number MPs parliament. Electors Total number registered electors. Turnout Turnout percentage number electors.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Electorate or Party Names in a Dataset — update_names","title":"Update Electorate or Party Names in a Dataset — update_names","text":"function standardises names dataset according specified output type: \"electorate\" output, updates electorate names align recent boundary changes, facilitating consistent analysis across various election years. \"party\" output, modifies party names denote successful parties, labeling unsuccessful parties \"\". simplification aids clear concise visualisation analysis. function particularly useful preparing election data comparative visual analysis.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Electorate or Party Names in a Dataset — update_names","text":"","code":"update_names(   data,   nameCol = NULL,   yearCol = \"Election\",   output = c(\"party\", \"electorate\") )"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Electorate or Party Names in a Dataset — update_names","text":"data data frame containing election-related information. nameCol name column data contains names updated. NULL, defaults \"Party\" output \"party\" \"Electorate\" output \"electorate\". yearCol name column data contains election years. column must numeric convertible numeric. output type names updated; either \"party\" \"electorate\". Defaults \"party\".","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Electorate or Party Names in a Dataset — update_names","text":"data frame updated names specified nameCol.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update Electorate or Party Names in a Dataset — update_names","text":"","code":"if (FALSE) {   data(majority)   updated_majority <- update_names(majority, output = \"electorate\")   updated_party_votes <- update_names(party_votes, output = \"party\") }"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Vote Type (1996 - 2023) — vote_type","title":"Vote Type (1996 - 2023) — vote_type","text":"vote_type dataset long format allows analysis vote types (ordinary, special - NZ, special - overseas) validity (valid, informal, disallowed) Electorate Ballot type. Useful understanding distribution different types votes. usage guidance, see Vote Type article. Detailed explanation voting types 'Vote Types' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vote Type (1996 - 2023) — vote_type","text":"","code":"vote_type"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Vote Type (1996 - 2023) — vote_type","text":"data frame 11,136 rows 6 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party). Electorate Electorate name (e.g., Auckland Central). Validity Validity vote (Valid, Informal, Disallowed). Method Method voting (Ordinary, Special - NZ, Special - Overseas). Votes Total number votes cast.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Vote Type (1996 - 2023) — vote_type","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"overview-0-0-1","dir":"Changelog","previous_headings":"","what":"Overview","title":"scgElectionsNZ (development version 0.0.1)","text":"initial release scgElectionsNZ, R package designed provide comprehensive data analytical tools New Zealand’s general election results 1996 2023. development version marks first step offering robust resource political scientists, researchers, students, anyone interested intricacies New Zealand’s electoral processes.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"major-features-0-0-1","dir":"Changelog","previous_headings":"","what":"Major Features","title":"scgElectionsNZ (development version 0.0.1)","text":"Datasets Introduced: version includes several key datasets: summary: National-level overall results party. turnout: Electorate ballot type-specific turnout informal vote details. vote_type: Validity type votes electorate ballot. party_votes: Party votes electorate level. candidate_votes: Candidate votes electorate level. majority: Winning candidates margins victory electorate level. split_electorate: Electorate-level split-ticket voting data (2005 - 2023). split_total: National-level split-ticket voting data (2005 - 2023). preMMP_results: National-level results 1890 1993, MMP. historic_turnout: National-level turnout data 1879 2023. Helper Functions: set functions enhance data handling analysis: add_data(): Augments datasets regional electorate type information. update_names(): Standardises electorate names consistent analysis across years condense unsuccessful party names “” easier analysis. Documentation Examples: Comprehensive documentation examples provided dataset function, making easier users understand utilise package effectively.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"improvements-and-bug-fixes-0-0-1","dir":"Changelog","previous_headings":"","what":"Improvements and Bug Fixes","title":"scgElectionsNZ (development version 0.0.1)","text":"Data Accuracy: Implementation rigorous checks ensure accuracy reliability datasets. Performance Optimisation: Enhancements made improve performance data processing analysis functions.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"future-plans-0-0-1","dir":"Changelog","previous_headings":"","what":"Future Plans","title":"scgElectionsNZ (development version 0.0.1)","text":"Known Data Issues: Addressing discrepancies raw split voting files updating split_electorate split_total datasets accordingly. Data Improvements: Enhancing quality internal datasets feed helper functions. Additional Datasets: Addition results_by_booths Party Candidate Votes, including Advanced voting, align candidate_votes party_votes. -Election Referendum Data: Inclusion detailed datasets -elections referendums provide comprehensive electoral analysis. New Functions: Development new functions amend_boundary, plot_parliament, plot_cartogram advanced analysis visualisation. CRAN Release: Plans releasing package CRAN widen accessibility.","code":""}]

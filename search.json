[{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"majority","dir":"Articles","previous_headings":"","what":"Majority","title":"Majority","text":"majority dataset contains winning candidate margin victory electorate. majority calculated subtracting number votes winning candidate form number votes second candidate. margin victory divides number total votes cast create percentage figure.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"upload-data","dir":"Articles","previous_headings":"Majority","what":"Upload data","title":"Majority","text":"View shape data frame.","code":"# Load dataset df <- scgUtils::get_data(\"majority\") head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"update-electorate-names","dir":"Articles","previous_headings":"Majority","what":"Update electorate names","title":"Majority","text":"Update names electorates can traced back name changes.","code":"# Convert pre-2020 electorate names to match name changes that occurred in 2020 and view df <- update_names(df, output = \"electorate\") head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"add-type-of-electorate","dir":"Articles","previous_headings":"Majority","what":"Add type of electorate","title":"Majority","text":"Add column electorate type filter Maori electorates.","code":"# Add Electorate Type and filter for General electorates only and view df <- add_data(df, output=\"type\") head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/majority.html","id":"plot","dir":"Articles","previous_headings":"Majority","what":"Plot","title":"Majority","text":"Create parallel coordinates plot track visualise electorates changed hands margins increase decrease across MMP elections.","code":"df %>%   filter(Electorate_Type == \"General\") %>%   # Remove electorates that had fewer than 7 elections   group_by(Electorate) %>%   mutate(No. = length(Electorate)) %>%   ungroup() %>%   filter(No. >= 7) %>%   mutate(Percentage = ifelse(Party %in% c(\"Labour Party\", \"Green Party\",                                           \"Alliance\", \"Jim Anderton's Progressive\"),                              -Percentage, Percentage)) %>%   ggplot(aes(y=Percentage, x=reorder(Election, -Election), group=Electorate, colour=Party)) +   geom_hline(yintercept = 0, colour = scgUtils::colour_pal(\"Regent Grey\"),              linewidth = 0.5, linetype = \"dashed\") +   geom_smooth(method = \"loess\",formula = 'y ~ x',               colour = scgUtils::colour_pal(\"French Grey\"),               span = 0.3, se = FALSE, alpha = 0.25, linewidth = 0.25) +   geom_point(shape='\\u6c', size=4) +   scale_y_continuous(limits = c(-70,70), expand = c(0,0), position = \"right\",                      breaks = c(-60,-40,-20,0,20,40,60),                      labels = c(\"+60\",\"+40\",\"+20\",\"0\",\"+20\",\"+40\",\"+60\")   ) +   scale_x_discrete(expand=c(0,0)) +   scale_colour_manual(values = scgUtils::colour_pal(\"polNZ\")) +   labs(title = \"Margin of Victory (%) by General Electorate\\nOver Time (1996 - 2023)\",        caption = \"\\n\\n*Includes electorates which existed at 7 or more elections only\",        y = \"\",        x = \"\") +   coord_flip(clip = \"off\") +   scgUtils::theme_scg() %+replace%   theme(legend.position = \"none\",         panel.grid.major.y = element_blank(),         panel.grid.minor = element_blank(),         axis.line = element_blank(),         axis.ticks = element_blank(),         axis.text.x.top = element_text(vjust = 4)   )"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"nz-electoral-system","dir":"Articles","previous_headings":"","what":"NZ Electoral System","title":"NZ Elections Explained","text":"New Zealand employs non-compulsory voting system elect 120 members unicameral House Representatives using Mixed-Member Proportional (MMP) voting system. system comprises: 7 seats Māori electorates individuals Māori ethnicity ancestry choose place separate electoral roll. Māori General electorates overlap. 48 List MPs elected nationwide, closed (.e., order candidates determined individual parties), party lists. distinction Māori General electoral roll voters seats. Voters thus cast two votes: Candidate Vote preferred local candidate Party Vote favoured party. Explore summary dataset analysis party candidate votes national-level. number type seats can also viewed using dataset.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"party-vote","dir":"Articles","previous_headings":"","what":"Party Vote","title":"NZ Elections Explained","text":"allocation 120 parliamentary seats based proportion Party Votes party receives. subtracting number electorate seats won, remaining seats allocated parties top-. order seats allocated determined Sainte-Laguë formula: \\[ quotient = \\frac{V}{2s + 1} \\] : \\(V\\) total number votes party, \\(s\\) number seats already allocated party. comprehensive understanding allocation process, refer Seat Allocation Explained article. Electorate-level Party Vote data can found party_votes dataset.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"candidate-vote","dir":"Articles","previous_headings":"","what":"Candidate Vote","title":"NZ Elections Explained","text":"FPTP voting results electorates available candidate_votes dataset Note dataset currently includes successful parties, others grouped ‘’. Use add_data function identify type electorate (.e., Māori General). majority dataset lists electorate winner, majority, margin victory, calculated follows: Majority \\[ M = V_{1} - V_{2} \\] : \\(M\\) represents Majority, \\(V_{1}\\) number votes received first candidate, \\(V_{2}\\) number votes received second candidate. Margin Victory \\[ MoV = \\frac{M}{T_{votes}} \\] : \\(MoV\\) represents Margin Victory, \\(M\\) Majority (calculated ), \\(T_{votes}\\) total valid votes cast electorate candidates. insights use datasets, see Party Candidate Votes article Majority article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"overhang-seats","dir":"Articles","previous_headings":"","what":"Overhang Seats","title":"NZ Elections Explained","text":"circumstances party won electorates entitled proportion Party Vote, candidates retain electorates total number MPs elected parliament increases. referred overhang seats. Learn identify overhang seats election Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"eligibility","dir":"Articles","previous_headings":"","what":"Eligibility","title":"NZ Elections Explained","text":"parties eligible seats allocated , either need receive five per cent Party Vote win least one electorate. Successful variable summary dataset indicates party eligibility election results.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"before-mmp","dir":"Articles","previous_headings":"","what":"Before MMP","title":"NZ Elections Explained","text":"1993, New Zealanders voted change voting system FPTP MMP. preMMP_results dataset covers data 1890 1996, allowing comparisons post-MMP Party Vote. See Summary article example use data.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"turnout","dir":"Articles","previous_headings":"","what":"Turnout","title":"NZ Elections Explained","text":"New Zealand Electoral Commission calculates voter turnout follows: \\[ {T} = \\left( \\frac{{V_{cast}}}{{E_{total}}} \\right) \\times 100 \\] : \\(T\\) represents Turnout percentage, \\(V_{cast}\\) Total Votes Cast (includes valid, informal, disallowed votes), \\(E_{total}\\) Total Electors Master Roll (including General Māori electoral rolls). Explore electorate-level turnout data turnout dataset, national-level data turnout_historic dataset, use Turnout article. Note latter dataset, Party Vote turnout used national figure. figures 1978 also amended disregard hundreds thousands duplicated names electoral roll. can found footnotes electoral commissions website .","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"vote-types","dir":"Articles","previous_headings":"","what":"Vote Types","title":"NZ Elections Explained","text":"New Zealand’s electoral system encompasses range vote types, categorised method validity. Methods Voting Ordinary Votes: Cast -person election day. Special Votes - Within New Zealand: voters outside electorate, late registrants, needing anonymity, hospitals prisons. Special Votes - Overseas: New Zealanders abroad, ensuring 1 5 Kiwis overseas can still vote. Validity Votes Valid Votes: Properly cast meeting criteria. Informal Votes: voter intent unclear, due improper filling, illegibility, multiple markings. Disallowed Votes: counted due late receipt, unauthenticated special votes (witnessed signed), given wrong ballot paper, ineligibility voter. vote_type dataset offers -depth breakdown types. analysis examples, see Vote Type article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/nz-elections-explained.html","id":"split-voting","dir":"Articles","previous_headings":"","what":"Split Voting","title":"NZ Elections Explained","text":"Split voting occurs voters choose candidate one party Candidate Vote different party Party Vote. phenomenon reflects flexibility MMP system, allowing voters support local candidate irrespective preferred party proportional representation. Explore national-level flow votes split_total dataset electorate-level data split_electorate dataset. practical examples, refer Split Voting article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Party and Candidate Votes","text":"party_votes candidate_votes datasets provide comprehensive insights party preferences candidate popularity across electorates. datasets pivotal understanding New Zealand’s Mixed-Member Proportional (MMP) system translates individual party preferences electoral outcomes.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"loading-the-data","dir":"Articles","previous_headings":"","what":"Loading the Data","title":"Party and Candidate Votes","text":"Begin loading party_votes candidate_votes datasets understand structure information contain: Party Votes Candidate Votes can see, candidate_votes dataset places unsuccessful parties “” include Informal votes.","code":"# Load data party_df <- scgUtils::get_data(\"party_votes\")  # View data head(party_df, 10) # Load data candidate_df <- scgUtils::get_data(\"candidate_votes\")  # View data head(candidate_df, 10)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"combining-party-and-candidate-vote-data","dir":"Articles","previous_headings":"","what":"Combining Party and Candidate Vote Data","title":"Party and Candidate Votes","text":"Amend Data resolve issue, use update_names() function amend party names: Merge Data , combine datasets unified analysis:","code":"# Amend Party names party_df <- update_names(party_df) # default output = \"party\"  party_df <- party_df %>%   filter(Party != \"Informal\") %>% # Remove \"Informals\"   # Get grouped sum of Votes (i.e., combine all \"Other\" votes into one):   group_by(Election, Electorate, Ballot, Party) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   # Get grouped percentage and round to 2 decimal places:   group_by(Election, Electorate, Ballot) %>%   mutate(Percentage = Votes / sum(Votes) * 100) %>%   ungroup()  # View amended data head(party_df, 10) # Combine the two data frames combined_df <- rbind(party_df, candidate_df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"reshaping-the-data","dir":"Articles","previous_headings":"","what":"Reshaping the Data","title":"Party and Candidate Votes","text":"Reshape data understand party candidate preferences align diverge:","code":"combined_df <- combined_df %>%   filter(Election == 2023) %>% # Get the 2023 election only   # NB Ballot is amended to ensure that there are not two \"Party\" columns when pivoting wider:   mutate(Ballot = ifelse(Ballot == \"Party\", \"Party Vote\", \"Candidate Vote\")) %>%   select(Election, Ballot, Electorate, Party, Percentage) %>% # Remove Votes column   tidyr::pivot_wider(names_from = Ballot, values_from = Percentage) # Pivot wider  # Make NAs = 0 combined_df[is.na(combined_df)] <- 0  # View data head(combined_df, 10)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/party-and-candidate-votes.html","id":"visualising-party-and-candidate-votes","dir":"Articles","previous_headings":"","what":"Visualising Party and Candidate Votes","title":"Party and Candidate Votes","text":"Create visualisation comparing Party Candidate votes understand correlation two types votes, can indicate degree split voting electorate. colour_pal() function scgUtils package can used assign party colours theme_scg() function package can used customise plot’s appearance:","code":"combined_df %>%   filter(Party != \"Other\") %>% # Remove \"Other\"   ggplot(aes(x = `Candidate Vote`, y = `Party Vote`, colour = Party)) +   geom_smooth(method = \"lm\", se = TRUE, formula = y ~ x, # Add linear regression               colour = scgUtils::colour_pal(\"French Grey\"),               linewidth = 0.5, fill = \"#F4F4F5\", alpha = 0.5) +   geom_point(na.rm = TRUE) + # Add scatter plot   ggpmisc::stat_poly_eq(colour = scgUtils::colour_pal(\"Regent Grey\")) + # Add R^2   facet_wrap(. ~ Party) + # Facet by Party   scale_colour_manual(values = scgUtils::colour_pal(\"polNZ\")) + # Get party colours   coord_equal(ylim = c(0, 80), xlim = c(0, 80)) + # Make axes equal   labs(title = \"2023 Candidate vs Party Vote\\nby Electorate and Party\", # Add labels        y = \"Party Vote (%)\\n\",        x = \"Candidate Vote (%)\") +   scgUtils::theme_scg() + # Apply theme   theme(legend.position = \"none\") # Turn off legend"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-1-tally-party-votes","dir":"Articles","previous_headings":"","what":"Step 1: Tally Party Votes","title":"Seat Allocation Explained","text":"First, Party Votes tallied party number electorate seats won also tallied.","code":"# load dataset df <- scgUtils::get_data(\"summary\") df <- df %>%   # filter out total ballot type, leaving the candidate and party ballor   # types only   filter(Ballot != \"Total\",          # filter for the most recent election          Election == 2023) %>%   # keep party votes only by removing candidate votes   mutate(Votes = ifelse(Ballot == \"Candidate\", 0, Votes),          # NB % is not required in this step and is only included          # for illustrative purposes          Percentage = ifelse(Ballot == \"Candidate\", 0, Percentage),          # keep the number of electorate seats only by removing          # party/list seats          Seats = ifelse(Ballot == \"Party\", 0, Seats)) %>%   # group long format data frame (NB keep 'Successful' column)   group_by(Party, Successful) %>%   summarise(Votes = sum(Votes), Percentage = sum(Percentage),             Seats = sum(Seats), .groups = 'drop') %>%   ungroup() %>%   arrange(-Votes)  head(df) #> # A tibble: 6 × 5 #>   Party          Successful   Votes Percentage Seats #>   <chr>          <chr>        <dbl>      <dbl> <dbl> #> 1 National Party Yes        1085851      38.1     43 #> 2 Labour Party   Yes         767540      26.9     17 #> 3 Green Party    Yes         330907      11.6      3 #> 4 ACT Party      Yes         246473       8.64     2 #> 5 NZ First       Yes         173553       6.09     0 #> 6 Maori Party    Yes          87844       3.08     6"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-2-determine-seat-entitlement","dir":"Articles","previous_headings":"","what":"Step 2: Determine Seat Entitlement","title":"Seat Allocation Explained","text":"Next, ineligible parties (achieve 5% Party Vote win least 1 electorate) removed denominator total votes. percentage party votes recalculated seat entitlement number top-seats determined.","code":"df <- df %>%   # filer out ineligible parties   filter(Successful == \"Yes\") %>%         # New percentage   mutate(Percentage = Votes/sum(Votes)*100,          # Number of seats each party is entitled to          Entitlement = round(120 * Percentage/100, digits=0),          # Number of top-up seats          Top_Up = Entitlement - Seats) head(df) #> # A tibble: 6 × 7 #>   Party          Successful   Votes Percentage Seats Entitlement Top_Up #>   <chr>          <chr>        <dbl>      <dbl> <dbl>       <dbl>  <dbl> #> 1 National Party Yes        1085851      40.3     43          48      5 #> 2 Labour Party   Yes         767540      28.5     17          34     17 #> 3 Green Party    Yes         330907      12.3      3          15     12 #> 4 ACT Party      Yes         246473       9.16     2          11      9 #> 5 NZ First       Yes         173553       6.45     0           8      8 #> 6 Maori Party    Yes          87844       3.26     6           4     -2"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-3-use-saint-laguë-formula","dir":"Articles","previous_headings":"","what":"Step 3: Use Saint-Laguë Formula","title":"Seat Allocation Explained","text":"Next, Sainte-Laguë formula, \\(Quotient = \\frac{Votes}{(2s + 1)}\\), used determine order seats. NB \\(s\\) begins 0 Party increases 1 seats allocated round. means total number \\(Votes\\) party divided odd number every round. .e., \\((2 \\times 0 + 1) = 1\\) \\((2 \\times 1 + 1) = 3\\) \\((2 \\times 2 + 1) = 5\\) …","code":"n <- 120 # Total number of seats: df1 <- data.frame() # s begins at 0 and sequences up until total number of seats # has been reached for(s in seq(0,n)) {     tmp <- df %>%       # Saint-Lague Formula:       mutate(Quotient = Votes / (2*s + 1),              # included for illustrative purposes only              s = s) %>%       select(Party, Quotient, s)     df1 <- rbind(df1, tmp) } head(df1,10) #> # A tibble: 10 × 3 #>    Party          Quotient     s #>    <chr>             <dbl> <int> #>  1 National Party 1085851      0 #>  2 Labour Party    767540      0 #>  3 Green Party     330907      0 #>  4 ACT Party       246473      0 #>  5 NZ First        173553      0 #>  6 Maori Party      87844      0 #>  7 National Party  361950.     1 #>  8 Labour Party    255847.     1 #>  9 Green Party     110302.     1 #> 10 ACT Party        82158.     1"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-4-determine-allocation-order","dir":"Articles","previous_headings":"","what":"Step 4: Determine Allocation Order","title":"Seat Allocation Explained","text":"seat allocated party based order \\(Quotient\\) highest lowest. continues 120 seats allocated (NB disregards overhang seats given come excess electorate seats list seats).","code":"# Order seats by Quotient (highest to lowest) and subset # rows by the total number of seats (120): df1 <- df1[order(-df1$Quotient),] df1 <- df1[1:n,]  # Allocate seat number: df1$Allocation <- 1:n head(df1,10) #> # A tibble: 10 × 4 #>    Party          Quotient     s Allocation #>    <chr>             <dbl> <int>      <int> #>  1 National Party 1085851      0          1 #>  2 Labour Party    767540      0          2 #>  3 National Party  361950.     1          3 #>  4 Green Party     330907      0          4 #>  5 Labour Party    255847.     1          5 #>  6 ACT Party       246473      0          6 #>  7 National Party  217170.     2          7 #>  8 NZ First        173553      0          8 #>  9 National Party  155122.     3          9 #> 10 Labour Party    153508      2         10"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/seat-allocation-explained.html","id":"step-5-allocate-seats","dir":"Articles","previous_headings":"","what":"Step 5: Allocate Seats","title":"Seat Allocation Explained","text":"Finally, electorate seats won parties allocated first remaining entitlement allocated remaining candidates party lists (win electorate).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"split-voting","dir":"Articles","previous_headings":"","what":"Split Voting","title":"Split Voting","text":"split_total split_electorate datasets contains number voters cast party vote different party candidate vote national level, party. dataset election years 2005 2023 due split-ticket voting data available previous years.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"upload-data","dir":"Articles","previous_headings":"Split Voting","what":"Upload data","title":"Split Voting","text":"View shape data frame.","code":"df <- scgUtils::get_data(\"split_total\") # or # df <- scgUtils::get_data(\"split_electorate\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"prepare-sankey","dir":"Articles","previous_headings":"Split Voting","what":"Prepare Sankey","title":"Split Voting","text":"Prepare sankey data.","code":"# Filter 2023 election data only df <- df[df$Election == 2023, ]  # If electoral-level dataset is used, also filter by Electorate # df <- df[df$Election == 2023 & df$Electorate == \"Auckland Central\", ]  # Rename unsuccessful minor parties into \"Other\" category df <- update_names(df, nameCol = \"List_Party\") df <- update_names(df, nameCol = \"Electorate_Party\")  df <- df %>%   # Get sum of votes by flow   group_by(List_Party, Electorate_Party) %>%   summarise(Vote = round(sum(Votes)), .groups = 'drop') %>%   ungroup() %>%   # Get percent of party vote going to candidate vote   group_by(List_Party) %>%   mutate(Percent = round(Vote/sum(Vote)*100,2) %>%   ungroup()  head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/split-voting.html","id":"plot","dir":"Articles","previous_headings":"Split Voting","what":"Plot","title":"Split Voting","text":"Using scgUtils package, create sankey visualise split vote candidate vote (left) party vote (right). Use colour_prep function package match party colours correct political party. NB. Percentage votes within tooltip nodes exactly equal party_vote candidate_vote party due rounding.","code":"scgUtils::plot_sankey(   data = df,   source = \"List_Party\", # left side of sankey   target = \"Electorate_Party\", # right side of sankey   value = \"Vote\",   colours = scgUtils::colour_prep(df, c(\"List_Party\",\"Electorate_Party\"), pal_name = \"polNZ\"),   width = 900, # reduce width from default of 1200   height = 700, # reduce height from default of 800   shiftLabel = 8 # manually shift labels to outside of plot if odd number of parties on each side ) # %>%   # save from viewer to html   # htmlwidgets::saveWidget(file=\"sankey_2023.html\", selfcontained = TRUE)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Summary","text":"summary dataset consolidates key electoral information, providing bird’s-eye view New Zealand’s elections. can used find number seats, votes (n & %), nominations/party list ballot type - Candidate Vote, Party Vote, Total (Seats column = Candidate + Party; Vote column = Party ). can also used find number overhang seats party can attributed .","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"loading-the-data","dir":"Articles","previous_headings":"Summary","what":"Loading the Data","title":"Summary","text":"Begin loading summary dataset understand structure:","code":"# Load datasets by using the following helper function: df <- scgUtils::get_data(\"summary\") # Alternatively, use: data(\"summary\"), then df <- summary  # View the data head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"party-and-candidate-votes","dir":"Articles","previous_headings":"Summary","what":"Party and Candidate Votes","title":"Summary","text":"view top performing parties, rank Party Candidate Vote Party 2023 election removing Total ballot type dataset:","code":"df %>%   filter(Ballot != \"Total\", Election == 2023) %>%   arrange(-Percentage) %>%   head(n = 10)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"overhang-seats","dir":"Articles","previous_headings":"Summary","what":"Overhang Seats","title":"Summary","text":"reminder, overhang seats occur Party Vote entitles party fewer seats number electorate seats won. view overhang seats, remove Candidate Party ballot types unsuccessful parties dataset. , calculate overhang seats multiplying 120 total parliamentary seats proportion party vote successful parties:  Create Plot view overhang seats time, visualise number seats won party election:","code":"df %>%   filter(Successful == \"Yes\", Ballot == \"Total\", Election == 2023) %>%   group_by(Election) %>%   mutate(`Successful_%` = Votes / sum(Votes) * 100) %>%   ungroup() %>%   mutate(Overhang = Seats - round(120 * `Successful_%` / 100, 0)) %>%   arrange(-Overhang) df %>%   # remove parties which did not win a seat   filter(Successful == \"Yes\", Ballot == \"Total\") %>%   ggplot(aes(x = Election, y = Seats,              fill = factor(Party, levels = c(\"National Party\", \"ACT Party\", \"NZ First\",                                              \"United Future\", \"Jim Anderton's Progressive\",                                              \"MANA\", \"Maori Party\", \"Alliance\", \"Green Party\",                                              \"Labour Party\")))) +   geom_bar(stat = \"identity\", colour = \"white\", linewidth = 0.15, alpha = 0.8) +   # indicate majority required for a 120 seat parliament   geom_hline(yintercept = 60, colour = \"white\", linewidth = 0.5) +   # indicate overhang seats   geom_hline(yintercept = 120, colour = scgUtils::colour_pal(\"French Grey\")) +   annotate(\"text\", x = 2025, y = 120, label = \"Overhang\",            colour = scgUtils::colour_pal(\"Regent Grey\"),            size = 3.5, fontface = 2) +   coord_flip(clip = \"off\", xlim = c(1994.5, 2024.5)) +   labs(title = \"No. of Seats by Election and Party (1996 - 2023)\",        fill = \"Party\") +   scale_fill_manual(values = scgUtils::colour_pal(\"polNZ\")) +   scale_y_continuous(expand = c(0, 0)) +   scale_x_continuous(expand = c(0, 0), \"Election\",                      labels = as.character(df$Election), breaks = df$Election) +   scgUtils::theme_scg() +   theme(panel.grid.major.y = element_blank(),         panel.grid.minor.y = element_blank())"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"premmp-results","dir":"Articles","previous_headings":"","what":"preMMP Results","title":"Summary","text":"summary dataset can combined preMMP_results dataset. preMMP_results dataset contains overall results 1890 1993 party national-level.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"loading-the-data-1","dir":"Articles","previous_headings":"preMMP Results","what":"Loading the Data","title":"Summary","text":"View shape data frame.","code":"df1 <- scgUtils::get_data(\"preMMP_results\") head(df1)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"merge-datasets","dir":"Articles","previous_headings":"preMMP Results","what":"Merge datasets","title":"Summary","text":"match preMMP_results dataset, remove summary dataset Party Candidate ballot types.","code":"df <- df %>%   filter(Ballot == \"Total\") %>%   mutate(Party = ifelse(Successful == \"Yes\", Party, \"Other\")) %>%   group_by(Election, Party) %>%   summarise(Seats = sum(Seats), Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Election) %>%   mutate(Percentage = round(Votes / sum(Votes) * 100, 2)) %>%   ungroup() %>%   select(Election, Party, Seats, Percentage) %>%   arrange(-Election)  # Merge df2 <- rbind(df, df1)  # view dataset head(df2)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/summary.html","id":"visualise-the-historic-party-vote","dir":"Articles","previous_headings":"preMMP Results","what":"Visualise the Historic Party Vote","title":"Summary","text":"Visualise party/popular vote election:","code":"df2 <- df2 %>%   # filter 1935 until current time (since the beginning of the National and Labour parties)   filter(Election >= 1935) %>%   mutate(Party = ifelse(Party %in% c(\"National Party\", \"Labour Party\"), Party,                         ifelse(Party == \"United-Reform ('National')\", \"National Party\",                                \"Other\")),          Party = factor(Party, levels = c(\"National Party\", \"Other\", \"Labour Party\"))) %>%   group_by(Election, Party) %>%   summarise(Percentage = round(sum(Percentage), 2), .groups = 'drop') %>%   ungroup()  df2 %>%   ggplot(aes(x = reorder(Election, -Election), y = Percentage,              fill = Party)) +   geom_bar(stat = \"identity\", alpha = 0.8, width = 1, size = 0) +   geom_bar(data = df2 %>% filter(Election == 2023), aes(x = 1, y = Percentage, fill = Party),            stat = \"identity\", alpha = 1, width = 1) +   # Add 50% line   geom_hline(yintercept = 50, colour = \"white\") +   annotate(\"text\", x = 31.2, y = 50, label = \"50%\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\")) +   annotate(\"text\", x = 31.2, y = 0, label = \"Party Vote >\", size = 3, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 0) +   annotate(\"text\", x = 31.2, y = 100, label = \"< Party Vote\", size = 3, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 1) +   # Add dashed lines for 2023 result   geom_hline(yintercept = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"],              colour = \"white\", linewidth = 0.5, linetype = \"dashed\") +   geom_hline(yintercept = 100 - df2$Percentage[df2$Election == 2023 & df2$Party == \"National Party\"],              colour = \"white\", linewidth = 0.5, linetype = \"dashed\") +   # Add introduction of MMP line   geom_vline(xintercept = 10.5, colour = scgUtils::colour_pal(\"Black80\"),              linetype = \"dashed\", linewidth = 0.25) +   annotate(\"text\", x = 10.5, y = 100.75, label = \"MMP introduced\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Black80\"), hjust = 0) +   # Add text to 2023 result   geom_text(x = 1, y = 1,             label = paste0(df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"], \"%\"),             hjust = 0, size = 3, colour = \"white\") +   annotate(\"text\", x = 0, y = 0, label = \"Labour\", size = 3.5, fontface = 2,            colour = \"#D82A20\", hjust = 0) +   geom_text(x = 1, y = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"] +     (df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"] / 2),             label = paste0(format(df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"],                                   nsmall = 2), \"%\"),             hjust = 0.5, size = 3, colour = scgUtils::colour_pal(\"Black80\")) +   annotate(\"text\", x = 0, y = df2$Percentage[df2$Election == 2023 & df2$Party == \"Labour Party\"] +     (df2$Percentage[df2$Election == 2023 & df2$Party == \"Other\"] / 2),            label = \"Minor Parties\", size = 3.5, fontface = 2,            colour = scgUtils::colour_pal(\"Regent Grey\"), hjust = 0.5) +   geom_text(x = 1, y = 99,             label = paste0(df2$Percentage[df2$Election == 2023 & df2$Party == \"National Party\"], \"%\"),             hjust = 1, size = 3, colour = \"white\") +   annotate(\"text\", x = 0, y = 100,            label = \"National\", size = 3.5, fontface = 2,            colour = \"#00529F\", hjust = 1) +   labs(title = \"% Party Vote by Election between 1935 and 2023\") +   scale_y_continuous(expand = c(0, 0), position = \"right\",                      breaks = seq(0, 100, by = 5)) +   scale_fill_manual(values = scgUtils::colour_pal(\"polNZ\")) +   coord_flip(clip = \"off\", xlim = c(1, 30), ylim = c(0, 100.25)) +   scgUtils::theme_scg() +   theme(legend.position = \"none\",         plot.margin = unit(c(1, 3, 1, 1), \"cm\"),         plot.title = element_text(vjust = 5, colour = scgUtils::colour_pal(\"Black80\")),         panel.grid.major = element_blank(),         panel.grid.minor = element_blank(),         axis.line = element_blank(),         axis.ticks.y = element_blank(),         axis.title.x = element_blank(),         axis.title.y = element_blank(),         axis.text.x = element_blank()   ) #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated."},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"turnout","dir":"Articles","previous_headings":"","what":"Turnout","title":"Turnout","text":"turnout dataset contains overall turnout informal vote electorate ballot type (Candidate Party). also total vote (informal + valid) total number electors election. dataset can combined turnout_historic dataset contains overall turnout national-level elections 1879 2023. also contains total number MPs parliament election, total number electors.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"upload-data","dir":"Articles","previous_headings":"Turnout","what":"Upload data","title":"Turnout","text":"View shape data frame.","code":"df <- scgUtils::get_data(\"turnout\") head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"merge-datasets","dir":"Articles","previous_headings":"Turnout","what":"Merge datasets","title":"Turnout","text":"Add national-level dataset electorate-level compare difference.","code":"df1 <- scgUtils::get_data(\"turnout_historic\") df2 <- left_join(df, df1, by = \"Election\")  df2 <- df2 %>%   filter(Ballot == \"Party\", Election == 2023) %>%   mutate(Turnout = Turnout.x - Turnout.y)  head(df2)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"visualise-turnout-by-electorate","dir":"Articles","previous_headings":"Turnout","what":"Visualise Turnout by Electorate","title":"Turnout","text":"Visualise electorate turnout average turnout election year (2023).","code":"df2 %>%   ggplot(aes(x = Turnout,              y = reorder(Electorate, Turnout),              fill = ifelse(Turnout < 0, \"Underperformed\", \"Overperformed\"))) +   geom_bar(stat = \"identity\") +   scale_fill_manual(values = scgUtils::colour_pal(\"divBlueGreen\", n = 2)) +   scale_x_continuous(limits = c(-16, 16), expand = c(0, 0)) +   labs(title = \"Comparing the National-Level Turnout\\nwith the Electorate-Level\",        fill = \"\",        y = \"\",        x = \"% Difference in Turnout\\n(Electorate - National)\") +   scgUtils::theme_scg() +   theme(panel.border = element_rect(colour = scgUtils::colour_pal(\"French Grey\")))"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"upload-data-1","dir":"Articles","previous_headings":"Turnout (Historic)","what":"Upload data","title":"Turnout","text":"View shape data frame.","code":"head(df1)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/turnout.html","id":"visualise-turnout-over-time","dir":"Articles","previous_headings":"Turnout (Historic)","what":"Visualise Turnout over Time","title":"Turnout","text":"Visualise turnout time see 2023 compares.","code":"df1 %>%   ggplot(aes(x = as.character(Election), y = Turnout, label = Turnout)) +   geom_bar(data = df1,            aes(x = as.character(Election), y = 100),            stat = \"identity\",            fill = scgUtils::colour_pal(\"French Grey\"),            alpha = 0.5) +   geom_bar(stat = \"identity\",            fill = scgUtils::colour_pal(\"Waterloo\")) +   geom_hline(yintercept = df1$Turnout[df1$Election == 2023],              colour = \"white\", linetype = \"dashed\") +   geom_text(hjust = 0, nudge_y = 0.5, size = 3.5, fontface = 2,             colour = scgUtils::colour_pal(\"Waterloo\")) +   coord_flip(clip = \"off\", xlim = c(1, length(df1$Election))) +   annotate(\"text\", x = length(df1$Election) + 1.5,            y = df1$Turnout[df1$Election == 2023],            label = \"2023\",            colour = scgUtils::colour_pal(\"Regent Grey\"),            size = 3.5, fontface = 2) +   scale_y_continuous(limits = c(0, 100), expand = c(0, 0)) +   labs(title = \"Turnout Over Time (1879 - 2023)\",        y = \"Turnout (%)\",        x = \"Election\") +   scgUtils::theme_scg() +   theme(panel.grid.major.y = element_blank(),         panel.grid.minor = element_blank(),         panel.border = element_rect(colour = scgUtils::colour_pal(\"French Grey\")))"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"vote-type","dir":"Articles","previous_headings":"","what":"Vote Type","title":"Vote Type","text":"vote_type dataset captures complexities New Zealand electoral process categorising votes based validity (Disallowed, Informal, Valid) method (Ordinary, Special - NZ, Special - Overseas), across electorates, ballot types (Candidate Party), elections.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"loading-the-data","dir":"Articles","previous_headings":"Vote Type","what":"Loading the Data","title":"Vote Type","text":"Begin loading vote_type dataset examining structure:","code":"vote_df <- scgUtils::get_data(\"vote_type\") head(vote_df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"augmenting-data-with-regional-information","dir":"Articles","previous_headings":"Vote Type","what":"Augmenting Data with Regional Information","title":"Vote Type","text":"Enhance dataset adding regional data detailed analysis using add_data() function:","code":"# Add Regions column df <- add_data(vote_df, output = \"region\")  # View Data head(df)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"visualising-special-votes-by-region","dir":"Articles","previous_headings":"Vote Type","what":"Visualising Special Votes by Region","title":"Vote Type","text":"Create visualisation illustrate proportion Party Special Declaration Votes Region time. Prepare Data Create Plot Use gghighlight() function gghighlight package highlight single regions facets theme_scg() function scgUtils package can used customise plot’s appearance:  evident, higher proportions special votes 1996 1999. particularly case Northland Taranaki / Whanganui / Manawatu number Maori General seats higher. addition, urban region Auckland significantly higher proportion special votes compared regions.","code":"# Prepare data df <- df %>%   filter(Ballot == \"Party\") %>% # Include Party Votes only   mutate(Method = ifelse(Method == \"Ordinary\", Method, \"Special\")) %>%   # Get grouped Votes   group_by(Election, Region, Method) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   # Get grouped Percentage   group_by(Election, Region) %>%   mutate(Percentage = round(Votes / sum(Votes) * 100, 2)) %>%   ungroup() %>%   filter(Method == \"Special\") %>% # Get Special Votes only   arrange(-Percentage)  # View data head(df) df %>%   ggplot(aes(x = as.character(Election), y = Percentage,              group = Region, colour = Region)) +   geom_line() + # Add lines   geom_point() + # Add points   gghighlight::gghighlight(use_direct_label = F) + # Highlight by faceted Regions   facet_wrap(. ~ reorder(Region, -Percentage)) +   scale_colour_manual(values = c(\"#374e8e\", \"#e3b13e\", \"#df7c18\", \"#ac004f\", # add colours by Region                                  \"#704600\", \"#1b87aa\", \"#478c5b\"),                       breaks = c(\"South Island\", \"Wellington / Wairarapa\",                                  \"Taranaki / Whanganui / Manawatu\",                                  \"Bay of Plenty / Hawke's Bay / Gisborne\",                                  \"Waikato\", \"Auckland\", \"Northland\")) +   labs(title = \"Proportion of Special Party Votes\\nby Region over Time (1996 - 2023)\",        y = \"Percentage (%)\\n\",        x = \"Election\") +   scgUtils::theme_scg() +   theme(axis.text.x = element_text(angle = 45, vjust = 0.5),         legend.position = \"none\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"exploring-the-data","dir":"Articles","previous_headings":"Vote Type","what":"Exploring the Data","title":"Vote Type","text":"understand differences special votes, break special votes method validity. Overseas Voting , first examine proportion overseas votes electorate, focusing valid informal votes: table shows urban electorates within Auckland greatest number overseas voters, likely pushing special vote count region Disallowed Votes Next, gain insights percentage disallowed votes electorate ballot type 2023 election: table shows highest proportion disallowed votes ranked electorate. Port Waikato shows 100% total vote disallowed. due ACT Party candidate dying polling day thus poll cancelled Candidate Vote (Party Vote proceeded). note top ten includes Māori electorates. likely due higher proportion Māori voters casting special votes. Special votes added level complexity requirements compared ordinary votes thus likely disallowed.","code":"vote_df %>%   filter(Election == 2023, Validity != \"Disallowed\") %>% # Only valid and informal votes   # Get grouped Votes   group_by(Ballot, Electorate, Method) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   # Get grouped Percentage   group_by(Ballot, Electorate) %>%   mutate(Percentage = round(Votes / sum(Votes) * 100, 2)) %>%   ungroup() %>%   # View only Special - Overseas results   filter(Method == \"Special - Overseas\") %>%   add_data(output = \"region\") %>% # # add region   arrange(-Percentage) %>% # rank by percentage   head(n = 10) vote_df %>%   filter(Election == 2023) %>% # Get 2023 Election data only   # Get grouped Votes   group_by(Ballot, Electorate, Electorate_Type, Validity) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   # Get grouped Percentage   group_by(Ballot, Electorate) %>%   mutate(Percentage = round(Votes / sum(Votes) * 100, 2)) %>%   ungroup() %>%   # View only Disallowed results   filter(Validity == \"Disallowed\") %>%   add_data(output = \"type\") %>% # add electorate type   arrange(-Percentage) %>% # rank by percentage   head(n = 10)"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/articles/vote-type.html","id":"visualising-special-votes-by-type","dir":"Articles","previous_headings":"Vote Type","what":"Visualising Special Votes by Type","title":"Vote Type","text":"finally, understand driving higher proportions 1996 1999, add electorate type, using add_data() function: Prepare Data Create Plot Visualise proportion Party Special Declaration Votes Electorate Type time. graph shows significantly higher proportions special votes cast Māori electorates compared General electorates. cause noted parliamentary research paper explained due geographic size Māori electorates limited number Māori polling booths, voters required travel cast ordinary vote. , Māori voters likely cast special vote General electorate polling places. 1993 1999, number polling places Māori voters cast vote increased 534 1,203. seen aid reduction special votes.","code":"# Add Electorate Type column df <- add_data(vote_df, output = \"type\")  # Prepare data df <- df %>%   filter(Ballot == \"Party\") %>%   mutate(Method = ifelse(Method == \"Ordinary\", Method, \"Special\")) %>%   group_by(Election, Electorate_Type, Method) %>%   summarise(Votes = sum(Votes), .groups = 'drop') %>%   ungroup() %>%   group_by(Election, Electorate_Type) %>%   mutate(Percentage = round(Votes / sum(Votes) * 100, 2)) %>%   ungroup() %>%   filter(Method == \"Special\") %>%   arrange(-Percentage)  # View data head(df) df %>%   ggplot(aes(x = as.character(Election), y = Percentage,              group = Electorate_Type,              colour = Electorate_Type)) +   geom_line() +   geom_point() +   scale_colour_manual(values = scgUtils::colour_pal(\"catSimplified\")) +   labs(title = \"Proportion of Special Party Votes\\nby Electorate Type over Time (1996 - 2023)\",        y = \"Percentage (%)\\n\",        x = \"Election\",        colour = \"Electorate Type\") +   scgUtils::theme_scg()"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sarah Gall. Author, maintainer.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gall S (2024). scgElectionsNZ: New Zealand Election Data Explorer. R package version 0.0.1, https://sarahcgall.github.io/scgElectionsNZ/, https://github.com/sarahcgall/scgElectionsNZ.","code":"@Manual{,   title = {scgElectionsNZ: New Zealand Election Data Explorer},   author = {Sarah Gall},   year = {2024},   note = {R package version 0.0.1, https://sarahcgall.github.io/scgElectionsNZ/},   url = {https://github.com/sarahcgall/scgElectionsNZ}, }"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"New Zealand Election Data Explorer","text":"scgElectionsNZ R package providing comprehensive data tools analyzing New Zealand’s general election results 1996 2023. offers unique insight dynamics electoral process New Zealand, presented variety datasets functions.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"datasets-included","dir":"","previous_headings":"Overview","what":"Datasets Included:","title":"New Zealand Election Data Explorer","text":"summary: National-level overall results party. turnout: Electorate ballot type-specific turnout informal vote details. vote_type: Validity method votes electorate ballot. party_votes: Party votes electorate level. candidate_votes: Candidate votes electorate level. majority: Winning candidates margins victory electorate level. split_electorate: Electorate-level split-ticket voting data (2005 - 2023). split_total: National-level split-ticket voting data (2005 - 2023). preMMP_results: National-level results 1890 1993, MMP. historic_turnout: National-level turnout data 1879 2023.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"New Zealand Election Data Explorer","text":"install development version scgElectionsNZ, use:","code":"# Install the development version from GitHub devtools::install_github(\"sarahcgall/scgElectionsNZ\")"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"New Zealand Election Data Explorer","text":"scgElectionsNZ includes several helper functions enhance data analysis: add_data(): Enhances datasets regional electorate type information. update_names(): Standardises electorate names consistent analysis across years condense unsuccessful party names “” easier analysis. Example usage: Explore detailed examples dataset descriptions package documentation.","code":"library(scgElectionsNZ)  # Load a dataset df <- scgUtils::get_data(\"majority\")  # Add additional data df <- add_data(df, output=\"regions\") df <- add_data(df, output=\"type\")  # Standardise names df <- update_names(df, output = \"electorate\") df <- update_names(df, output = \"party\")"},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"data-sources","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Data Sources","title":"New Zealand Election Data Explorer","text":"datasets scgElectionsNZ package meticulously curated official results sourced New Zealand Electoral Commission. datasets offer comprehensive view New Zealand’s electoral outcomes crucial -depth analysis research political science, electoral studies, related fields.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"disclaimer","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Disclaimer","title":"New Zealand Election Data Explorer","text":"utmost care taken ensure accuracy reliability data, New Zealand Electoral Commission involved development package thus bear responsibility errors omissions datasets. Users scgElectionsNZ note package’s creators independently compiled, processed, presented data. discrepancies inaccuracies found within datasets reflect official records maintained Electoral Commission.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"currency-of-data","dir":"","previous_headings":"Data Sources and Disclaimer","what":"Currency of Data","title":"New Zealand Election Data Explorer","text":"data included package --date 3 December 2023. Users aware subsequent electoral events data revisions Electoral Commission date may reflected current version scgElectionsNZ.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"future-additions-and-updates","dir":"","previous_headings":"","what":"Future Additions and Updates","title":"New Zealand Election Data Explorer","text":"Planned future additions include -election referendum results enhanced datasets like results_by_booths. Upcoming functional updates focus visualising election results specific New Zealand making boundary adjustments better comparative analysis.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"feedback-and-contributions","dir":"","previous_headings":"","what":"Feedback and Contributions","title":"New Zealand Election Data Explorer","text":"Suggestions contributions welcome. proposed additions, amendments, feedback, please create issue.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"New Zealand Election Data Explorer","text":"Check scgUtils additional functions visualisation tools.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"function enriches data frame additional data based New Zealand electorate names. dynamically adds specified data types regions electorate types (.e., \"General\" \"Maori\") new columns based specified output type. utilises internal datasets region type, map electorates corresponding regions types. function validates input data frame specified column. converts factor columns character ensure correct matching. Warnings issued specified column contains NA values, electorates matched. warning original data frame returned none electorates can matched.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"","code":"add_data(data, electorateCol = \"Electorate\", output = c(\"region\", \"type\"))"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"data data frame containing New Zealand electorate information. electorateCol Name column data containing electorate names. Defaults \"Electorate\". output Type additional data append. options : - \"region\": Adds \"Region\" column New Zealand region. - \"type\": Adds \"Electorate_Type\" column electorate types. Default \"region\".","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"data frame identical data additional column appended. case issues like unmatched electorates, original data frame returned warning.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/add_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add New Zealand Regions or Electorate Type to Electorates in a Data Frame — add_data","text":"","code":"if (FALSE) {   data(majority)   df_region <- add_data(majority, output = \"region\")   df_types <- add_data(majority, output = \"type\") }"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":null,"dir":"Reference","previous_headings":"","what":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"Th candidate_votes dataset long format allows analysis candidate votes electorate successful registered parties. Useful exploring voting patterns party performance individual electorates time. usage examples, see Party Candidate Votes article. understanding candidate votes, consult NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"","code":"candidate_votes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"data frame 5,349 rows 6 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate). Electorate Name electorate (e.g., Auckland Central). Party Name successful registered party (e.g., ACT Party). Votes Total valid candidate votes party (0--49,510). Percentage Percentage total valid candidate votes party (0.00--78.06).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/candidate_votes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Candidate votes for successful registered parties (1996 - 2023) — candidate_votes","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":null,"dir":"Reference","previous_headings":"","what":"Majority (1999 - 2023) — majority","title":"Majority (1999 - 2023) — majority","text":"majority dataset long format used identifying winning candidates electorate, party affiliations, margins victory. See Majority article use cases. methodology, refer 'Candidate Vote' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Majority (1999 - 2023) — majority","text":"","code":"majority"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Majority (1999 - 2023) — majority","text":"data frame 696 rows 7 variables: Election Year election (1996--2023). Electorate Electorate name (e.g., Auckland Central). Party Winning candidate's party name (e.g., Green Party). Candidate Winning candidate's name (e.g., SWARBRICK, Chloe Charlotte). Votes Majority votes: difference votes first second candidates (9--23,376). Percentage Margin victory percentage: majority votes / total valid votes cast (0.03--72.25). Party_List Whether candidate also party list (Yes, ).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/majority.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Majority (1999 - 2023) — majority","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":null,"dir":"Reference","previous_headings":"","what":"Party Votes (1996 - 2023) — party_votes","title":"Party Votes (1996 - 2023) — party_votes","text":"party_votes dataset long format can used look party vote electorate registered party. Usage examples Party Candidate Votes article. insights party votes, refer NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Party Votes (1996 - 2023) — party_votes","text":"","code":"party_votes"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Party Votes (1996 - 2023) — party_votes","text":"data frame 12,701 rows 5 variables: Election Year election (1996--2023). Ballot Type ballot (Party). Electorate Electorate name (e.g., Auckland Central). Party Registered party name (e.g., ACT Party). Votes Total valid party votes party (0--27,010).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/party_votes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Party Votes (1996 - 2023) — party_votes","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre-MMP Results (1890 - 1993) — preMMP_results","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"preMMP_results dataset long format offers historical insights party results general elections 1890 1993. dataset can used historical electoral analysis comparison post-MMP era. usage guidance, see Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"","code":"preMMP_results"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"data frame 162 rows 4 variables: Election Year election (1890--1993). Party Registered party name (e.g., Liberal). Seats Number seats won party (0--67). Percentage Percentage popular vote (0--58.7).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/preMMP_results.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Pre-MMP Results (1890 - 1993) — preMMP_results","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Electorate (2005 - 2023) — split_electorate","title":"Split Electorate (2005 - 2023) — split_electorate","text":"split_electorate dataset long format provides detailed view split voting electorate level party, 2005 2023. Essential understanding voter behaviour terms party candidate vote divergence. application examples, refer Split Voting article. grasp split voting concepts, see 'Split Voting' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Electorate (2005 - 2023) — split_electorate","text":"","code":"split_electorate"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Split Electorate (2005 - 2023) — split_electorate","text":"data frame 81,269 rows 6 variables: Election Year election (2005--2023). Electorate Electorate name (e.g., Auckland Central). List_Party Party voted party vote (e.g., 99 MP Party). Electorate_Party Party voted candidate vote (e.g., ACT Party). Votes Estimated number votes flowing list electorate parties. Percentage Percentage votes flowing list electorate parties.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_electorate.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Split Electorate (2005 - 2023) — split_electorate","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Total (2005 - 2023) — split_total","title":"Split Total (2005 - 2023) — split_total","text":"split_total dataset long format facilitates analysis overall split voting trends party 2005 2023. Ideal examining national-level voting patterns degree voter alignment party candidate preferences. usage, see Split Voting article. Split voting concepts detailed 'Split Voting' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Total (2005 - 2023) — split_total","text":"","code":"split_total"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Split Total (2005 - 2023) — split_total","text":"data frame 2,435 rows 5 variables: Election Year election (2005--2023). List_Party Party voted party vote (e.g., 99 MP Party). Electorate_Party Party voted candidate vote (e.g., ACT Party). Votes Estimated number votes flowing list electorate parties. Percentage Percentage votes flowing list electorate parties.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/split_total.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Split Total (2005 - 2023) — split_total","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary (1996 - 2023) — summary","title":"Summary (1996 - 2023) — summary","text":"summary dataset offers comprehensive overview election results 1996 2023, user-friendly long format. dataset useful broad analysis electoral trends party performance across different elections. practical application, see Summary article.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary (1996 - 2023) — summary","text":"","code":"summary"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Summary (1996 - 2023) — summary","text":"data frame 909 rows 9 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party, Total). Party Party name (e.g., ACT Party). Seats Number seats won party (0--65). Votes Total valid votes party. Percentage Percentage total valid votes party (0.00--50.01). Nominated Number nominated party lists ballot papers. Registered party registered (Yes, ). Successful party achieved eligibility requirement (Yes, ).","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/summary.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Summary (1996 - 2023) — summary","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":null,"dir":"Reference","previous_headings":"","what":"Turnout (1996 - 2023) — turnout","title":"Turnout (1996 - 2023) — turnout","text":"turnout dataset long format enables analysis elector turnout informal vote Electorate Ballot type 1996 2023. Key understanding voter participation effectiveness electoral engagement strategies. application insights, visit Turnout article. Turnout concepts explained 'Turnout' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turnout (1996 - 2023) — turnout","text":"","code":"turnout"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Turnout (1996 - 2023) — turnout","text":"data frame 1,392 rows 7 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party). Electorate Electorate name (e.g., Auckland Central). Electors Total number registered electors. Turnout Turnout percentage number electors. Total Total number votes cast - valid informal. Informal Total number informal votes cast.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Turnout (1996 - 2023) — turnout","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":null,"dir":"Reference","previous_headings":"","what":"Turnout (Historic) (1879 - 2023) — turnout_historic","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"turnout_historic dataset provides long-term perspective elector turnout general elections 1879 2023. Essential historical analysis voter engagement turnout trends time. use case examples, refer Turnout article. Turnout methodology detailed 'Turnout' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"","code":"turnout_historic"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"data frame 48 rows 4 variables: Election Year election (1879--2023). MPs Total number MPs parliament. Electors Total number registered electors. Turnout Turnout percentage number electors.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/turnout_historic.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Turnout (Historic) (1879 - 2023) — turnout_historic","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Electorate or Party Names in a Dataset — update_names","title":"Update Electorate or Party Names in a Dataset — update_names","text":"function standardises names dataset according specified output type: \"electorate\" output, updates electorate names align recent boundary changes, facilitating consistent analysis across various election years. \"party\" output, modifies party names denote successful parties, labeling unsuccessful parties \"\". simplification aids clear concise visualisation analysis. function particularly useful preparing election data comparative visual analysis.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Electorate or Party Names in a Dataset — update_names","text":"","code":"update_names(   data,   nameCol = NULL,   yearCol = \"Election\",   output = c(\"party\", \"electorate\") )"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Electorate or Party Names in a Dataset — update_names","text":"data data frame containing election-related information. nameCol name column data contains names updated. NULL, defaults \"Party\" output \"party\" \"Electorate\" output \"electorate\". yearCol name column data contains election years. column must numeric convertible numeric. output type names updated; either \"party\" \"electorate\". Defaults \"party\".","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Electorate or Party Names in a Dataset — update_names","text":"data frame updated names specified nameCol.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/update_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update Electorate or Party Names in a Dataset — update_names","text":"","code":"if (FALSE) {   data(majority)   updated_majority <- update_names(majority, output = \"electorate\")   updated_party_votes <- update_names(party_votes, output = \"party\") }"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Vote Type (1996 - 2023) — vote_type","title":"Vote Type (1996 - 2023) — vote_type","text":"vote_type dataset long format allows analysis vote types (ordinary, special - NZ, special - overseas) validity (valid, informal, disallowed) Electorate Ballot type. Useful understanding distribution different types votes. usage guidance, see Vote Type article. Detailed explanation voting types 'Vote Types' section NZ Elections Explained.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vote Type (1996 - 2023) — vote_type","text":"","code":"vote_type"},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Vote Type (1996 - 2023) — vote_type","text":"data frame 11,136 rows 6 variables: Election Year election (1996--2023). Ballot Type ballot (Candidate, Party). Electorate Electorate name (e.g., Auckland Central). Validity Validity vote (Valid, Informal, Disallowed). Method Method voting (Ordinary, Special - NZ, Special - Overseas). Votes Total number votes cast.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/reference/vote_type.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Vote Type (1996 - 2023) — vote_type","text":"Sourced NZ Electoral Commission's official results, available https://www.electionresults.govt.nz/.","code":""},{"path":[]},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"overview-0-0-1","dir":"Changelog","previous_headings":"","what":"Overview","title":"scgElectionsNZ (development version 0.0.1)","text":"initial release scgElectionsNZ, R package designed provide comprehensive data analytical tools New Zealand’s general election results 1996 2023. development version marks first step offering robust resource political scientists, researchers, students, anyone interested intricacies New Zealand’s electoral processes.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"major-features-0-0-1","dir":"Changelog","previous_headings":"","what":"Major Features","title":"scgElectionsNZ (development version 0.0.1)","text":"Datasets Introduced: version includes several key datasets: summary: National-level overall results party. turnout: Electorate ballot type-specific turnout informal vote details. vote_type: Validity type votes electorate ballot. party_votes: Party votes electorate level. candidate_votes: Candidate votes electorate level. majority: Winning candidates margins victory electorate level. split_electorate: Electorate-level split-ticket voting data (2005 - 2023). split_total: National-level split-ticket voting data (2005 - 2023). preMMP_results: National-level results 1890 1993, MMP. historic_turnout: National-level turnout data 1879 2023. Helper Functions: set functions enhance data handling analysis: add_data(): Augments datasets regional electorate type information. update_names(): Standardises electorate names consistent analysis across years condense unsuccessful party names “” easier analysis. Documentation Examples: Comprehensive documentation examples provided dataset function, making easier users understand utilise package effectively.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"improvements-and-bug-fixes-0-0-1","dir":"Changelog","previous_headings":"","what":"Improvements and Bug Fixes","title":"scgElectionsNZ (development version 0.0.1)","text":"Data Accuracy: Implementation rigorous checks ensure accuracy reliability datasets. Performance Optimisation: Enhancements made improve performance data processing analysis functions.","code":""},{"path":"https://sarahcgall.github.io/scgElectionsNZ/news/index.html","id":"future-plans-0-0-1","dir":"Changelog","previous_headings":"","what":"Future Plans","title":"scgElectionsNZ (development version 0.0.1)","text":"Known Data Issues: Addressing discrepancies raw split voting files updating split_electorate split_total datasets accordingly. Data Improvements: Enhancing quality internal datasets feed helper functions including special characters datasets. Additional Datasets: Addition results_by_booths Party Candidate Votes, including Advanced voting, align candidate_votes party_votes. -Election Referendum Data: Inclusion detailed datasets -elections referendums provide comprehensive electoral analysis. New Functions: Development new functions amend_boundary, plot_parliament, plot_cartogram advanced analysis visualisation. CRAN Release: Plans releasing package CRAN widen accessibility.","code":""}]
